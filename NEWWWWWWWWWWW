local Players = game:GetService("Players")
local VirtualUser = game:GetService("VirtualUser")
local RS = game:GetService("ReplicatedStorage")
local VIM = game:GetService("VirtualInputManager")
local RunService = game:GetService("RunService")
local Workspace = game:GetService("Workspace")
local LP = Players.LocalPlayer
local muscleEvent = LP:WaitForChild("muscleEvent")
local leaderstats = LP:WaitForChild("leaderstats")
local rebirthsStat = leaderstats:WaitForChild("Rebirths")

local BlacklistedUsers = {"DulceSkyx","HonnyyDezz","Honnydezz_z","itsBAJAMILIONcat","HonnyDezz_11","PR_inmortal","F3RNO0O00000","xXLXGHTBRINGERXx"}
local BlacklistedPrefixes = {"SC_","KTA_","HZ_","VAL_","ZTX_"}

local function isBlacklisted(plr)
    local u,d = plr.Name:lower(),(plr.DisplayName or ""):lower()
    for _,n in ipairs(BlacklistedUsers) do if u==n:lower() then return true end end
    for _,p in ipairs(BlacklistedPrefixes) do local px=p:lower() if u:sub(1,#px)==px or d:sub(1,#px)==px then return true end end
    return false
end

if isBlacklisted(LP) then
    warn("[Spectra X] Blacklisted user detected")
    task.spawn(function()
        for i=1,10 do RS.rEvents.rebirthRemote:InvokeServer("rebirthRequest") task.wait(0.1) end
        LP:Kick("Spectra X | Access denied")
    end)
    return
end

LP.Idled:Connect(function() VirtualUser:Button2Down(Vector2.new(0,0),workspace.CurrentCamera.CFrame) task.wait(1) VirtualUser:Button2Up(Vector2.new(0,0),workspace.CurrentCamera.CFrame) end)

local displayName = LP.DisplayName~="" and LP.DisplayName or LP.Name
local title = ("Spectra X | Welcome %s"):format(displayName)

library = loadstring(game:HttpGet("https://raw.githubusercontent.com/CoronaBlanca/Lxbrxrys/refs/heads/main/Xlxrxxm"))()
local window = library:AddWindow(title,{main_color=Color3.fromRGB(38, 32, 46),min_size=Vector2.new(585,800),can_resize=true})

local HomeTab = window:AddTab("Home")
HomeTab:AddLabel("╭──────────────────────────╮")
HomeTab:AddLabel("    Welcome To Spextra X")
HomeTab:AddLabel("╰──────────────────────────╯")
HomeTab:AddLabel("")
HomeTab:AddLabel("Script Made By")
HomeTab:AddLabel("")
HomeTab:AddLabel("Sherya (Isabella)")
HomeTab:AddLabel("")
HomeTab:AddLabel("Instagram : sheryaluck")
HomeTab:AddLabel("Tik tok : xvisherys")
HomeTab:AddLabel("Discord : isabella_hrz")
HomeTab:AddLabel("Roblox : MissSherya")
HomeTab:AddLabel("")
HomeTab:AddLabel("Thanks for using the script")
HomeTab:AddLabel("Errors to discord server")
HomeTab:AddLabel("")
HomeTab:AddButton("Servidor Discord",function() setclipboard("https://discord.gg/zYrg2qPjTp") end)

local MainTab = window:AddTab("Main")
local BrawlFolder = MainTab:AddFolder("  Brawls")

getgenv().godModeBrawl,getgenv().autoWinBrawl,getgenv().autoJoinBrawl = false,false,false

local function getChar() return LP.Character end
local function equipPunch()
    if not getgenv().autoWinBrawl then return end
    local c = getChar() if not c or c:FindFirstChild("Punch") then return end
    for _,t in pairs(LP.Backpack:GetChildren()) do if t:IsA("Tool") and t.Name=="Punch" then t.Parent=c break end end
end
local function isReady()
    local c,h = getChar(),nil
    h = c and c:FindFirstChild("Humanoid")
    return h and h.Health>0 and (c:FindFirstChild("LeftHand") or c:FindFirstChild("RightHand"))
end
local function validTarget(plr)
    if plr==LP or not plr.Character then return false end
    local h = plr.Character:FindFirstChild("Humanoid")
    return h and h.Health>0 and plr.Character:FindFirstChild("HumanoidRootPart")
end
local function touch(p1,p2) pcall(function() firetouchinterest(p1,p2,0) task.wait() firetouchinterest(p1,p2,1) end) end

BrawlFolder:AddSwitch("God Mode Brawl",function(s)
    getgenv().godModeBrawl=s
    if not s then return end
    task.spawn(function() while getgenv().godModeBrawl do RS.rEvents.brawlEvent:FireServer("joinBrawl") task.wait() end end)
end)

BrawlFolder:AddSwitch("Auto Win Brawls",function(s)
    getgenv().autoWinBrawl=s
    if not s then return end
    task.spawn(function() while getgenv().autoWinBrawl do if LP.PlayerGui.gameGui.brawlJoinLabel.Visible then RS.rEvents.brawlEvent:FireServer("joinBrawl") LP.PlayerGui.gameGui.brawlJoinLabel.Visible=false end task.wait(0.5) end end)
    task.spawn(function() while getgenv().autoWinBrawl do equipPunch() task.wait(0.5) end end)
    task.spawn(function() while getgenv().autoWinBrawl do if isReady() and RS.brawlInProgress.Value then pcall(function() LP.muscleEvent:FireServer("punch","leftHand") LP.muscleEvent:FireServer("punch","rightHand") end) end task.wait(0.1) end end)
    task.spawn(function() while getgenv().autoWinBrawl do if isReady() and RS.brawlInProgress.Value then local c=getChar() local lh,rh=c.LeftHand,c.RightHand for _,plr in pairs(Players:GetPlayers()) do if validTarget(plr) then local r=plr.Character.HumanoidRootPart if lh then touch(r,lh) end if rh then touch(r,rh) end end end end task.wait(0.05) end end)
end)

BrawlFolder:AddSwitch("Auto Join Brawls",function(s)
    getgenv().autoJoinBrawl=s
    if not s then return end
    task.spawn(function() while getgenv().autoJoinBrawl do pcall(function() if LP.PlayerGui.gameGui.brawlJoinLabel.Visible then RS.rEvents.brawlEvent:FireServer("joinBrawl") LP.PlayerGui.gameGui.brawlJoinLabel.Visible=false end end) task.wait(0.5) end end)
end)

getgenv().working = false
local jungleGymFolder = MainTab:AddFolder("  Jungle Gym")
local function pressE() VIM:SendKeyEvent(true,"E",false,game) task.wait(0.1) VIM:SendKeyEvent(false,"E",false,game) end
local function autoLift() while getgenv().working do LP.muscleEvent:FireServer("rep") task.wait() end end
local function startGym(cf)
    local c = LP.Character if not (c and c:FindFirstChild("HumanoidRootPart")) then return end
    c.HumanoidRootPart.CFrame=cf task.wait(0.1) pressE() task.spawn(autoLift)
end

jungleGymFolder:AddSwitch("Jungle Bench Press",function(s) getgenv().working=s if s then startGym(CFrame.new(-8173,64,1898)) end end)
jungleGymFolder:AddSwitch("Jungle Squat",function(s) getgenv().working=s if s then startGym(CFrame.new(-8352,34,2878)) end end)
jungleGymFolder:AddSwitch("Jungle Pull Ups",function(s) getgenv().working=s if s then startGym(CFrame.new(-8666,34,2070)) end end)
jungleGymFolder:AddSwitch("Jungle Boulder",function(s) getgenv().working=s if s then startGym(CFrame.new(-8801,38,2594)) end end)

local farmGymsFolder = MainTab:AddFolder("  Gyms")
local workoutPositions = {
    ["Bench Press"]={["Eternal Gym"]=CFrame.new(-7176.19,45.39,-1106.31),["Legend Gym"]=CFrame.new(4111.91,1020.46,-3799.97),["Muscle King Gym"]=CFrame.new(-8590.06,46.01,-6043.34)},
    ["Squat"]={["Eternal Gym"]=CFrame.new(-7176.19,45.39,-1106.31),["Legend Gym"]=CFrame.new(4304.99,987.82,-4124.23),["Muscle King Gym"]=CFrame.new(-8940.12,13.16,-5699.13)},
    ["Deadlift"]={["Eternal Gym"]=CFrame.new(-7176.19,45.39,-1106.31),["Legend Gym"]=CFrame.new(4304.99,987.82,-4124.23),["Muscle King Gym"]=CFrame.new(-8940.12,13.16,-5699.13)},
    ["Pull Up"]={["Eternal Gym"]=CFrame.new(-7176.19,45.39,-1106.31),["Legend Gym"]=CFrame.new(4304.99,987.82,-4124.23),["Muscle King Gym"]=CFrame.new(-8940.12,13.16,-5699.13)}
}
local workoutTypes = {"Bench Press","Squat","Deadlift","Pull Up"}
local gymLocations = {"Eternal Gym","Legend Gym","Muscle King Gym"}
getgenv().workingGym = false
local gymToggles = {}
local function teleportAndStart(cf)
    local c = LP.Character if not (c and c:FindFirstChild("HumanoidRootPart")) then return end
    c.HumanoidRootPart.CFrame=cf task.wait(0.15) pressE() task.spawn(autoLift)
end

for _,wt in ipairs(workoutTypes) do
    local cn = string.gsub(wt," ","")
    _G["selected"..cn.."Gym"]=gymLocations[1]
    local dd = farmGymsFolder:AddDropdown(wt.." - Gym",function(v) _G["selected"..cn.."Gym"]=v end)
    for _,g in ipairs(gymLocations) do dd:Add(g) end
    local tg = farmGymsFolder:AddSwitch(wt,function(s)
        getgenv().workingGym=s
        if not s then return end
        for k,t in pairs(gymToggles) do if k~=wt then t:Set(false) end end
        local sg = _G["selected"..cn.."Gym"]
        local cf = workoutPositions[wt][sg]
        if cf then teleportAndStart(cf) end
    end)
    gymToggles[wt]=tg
end

local FarmTab = window:AddTab("Farm")
local rockFolder = FarmTab:AddFolder("  Auto Rocks")

local function AddAutoPunchRock(t,rn,d)
    local e = false
    rockFolder:AddSwitch(t,function(s)
        e=s
        if e then
            task.spawn(function()
                while e do
                    local r = tonumber(rn) and Workspace.machinesFolder:GetChildren()[tonumber(rn)] or Workspace.machinesFolder:FindFirstChild(rn)
                    if r and LP.Character and LP.Character:FindFirstChild("LeftHand") then
                        firetouchinterest(r.Rock,LP.Character.LeftHand,0) task.wait(d) firetouchinterest(r.Rock,LP.Character.LeftHand,1)
                    end
                    RunService.Heartbeat:Wait()
                end
            end)
        end
    end)
end

AddAutoPunchRock("Auto Punch Jungle Rock (10M)","Ancient Jungle Rock",0.0001)
AddAutoPunchRock("Auto Punch King Rock (5M)","Muscle King Mountain",0.0001)
AddAutoPunchRock("Auto Punch Legends Rock (1M)","Rock Of Legends",0.01)
AddAutoPunchRock("Auto Punch Inferno Rock (750K)","Inferno Rock",0.01)
AddAutoPunchRock("Auto Punch Mystic Rock (400K)",6,0.01)
AddAutoPunchRock("Auto Punch Frozen Rock (150K)","Frozen Rock",0.01)
AddAutoPunchRock("Auto Punch Golden Rock (5K)","Punching Rock",0.01)
AddAutoPunchRock("Auto Punch Tiny Rock (0)","Tiny Rock",0.01)

rockFolder:AddSwitch("Auto Punch",function(s)
    _G.autopunch=s
    if s then
        local cn
        cn = RunService.Heartbeat:Connect(function()
            if not _G.autopunch then cn:Disconnect() return end
            local c,h = LP.Character,nil
            h = c and c:FindFirstChildOfClass("Humanoid")
            if h then
                local pt = LP.Backpack:FindFirstChild("Punch")
                if pt then h:EquipTool(pt) end
                LP.muscleEvent:FireServer("punch","rightHand")
                LP.muscleEvent:FireServer("punch","leftHand")
            end
        end)
    end
end)

local RockFolder = FarmTab:AddFolder("  Auto Rock V2")
local RockToggles = {["5M"]=false,["1M"]=false,["750K"]=false,["400K"]=false,["150K"]=false}
local function StartRockFarm(tn,p)
    task.spawn(function()
        while RockToggles[tn] do
            local c = LP.Character
            if c and c:FindFirstChild("HumanoidRootPart") then c.HumanoidRootPart.CFrame=CFrame.new(p) end
            task.wait(0.05)
        end
    end)
end

RockFolder:AddSwitch("Auto Rock (5M)",function(s) RockToggles["5M"]=s if s then StartRockFarm("5M",Vector3.new(-8976,9,-6130)) end end)
RockFolder:AddSwitch("Auto Rock (1M)",function(s) RockToggles["1M"]=s if s then StartRockFarm("1M",Vector3.new(4111.1640625,991.6776123046875,-4043.022216796875)) end end)
RockFolder:AddSwitch("Auto Rock (750K)",function(s) RockToggles["750K"]=s if s then StartRockFarm("750K",Vector3.new(-7293.18,8.42,-1232.74)) end end)
RockFolder:AddSwitch("Auto Rock (400K)",function(s) RockToggles["400K"]=s if s then StartRockFarm("400K",Vector3.new(2152.55,10.17,1272.46)) end end)
RockFolder:AddSwitch("Auto Rock (150K)",function(s) RockToggles["150K"]=s if s then StartRockFarm("150K",Vector3.new(-2528.79,7.32,-207.19)) end end)

local autoEquipToolsFolder = FarmTab:AddFolder("  Auto Equip Tools")

autoEquipToolsFolder:AddButton("Gamepass AutoLift",function()
    local gpf = RS.gamepassIds
    for _,gp in pairs(gpf:GetChildren()) do
        local v = Instance.new("IntValue")
        v.Name,v.Value,v.Parent = gp.Name,gp.Value,LP.ownedGamepasses
    end
end,"Desbloquea el gamepass de AutoLift gratis")

local function addToolSwitch(n,tn)
    autoEquipToolsFolder:AddSwitch(n,function(v)
        _G["Auto"..tn]=v
        if v then
            local t = LP.Backpack:FindFirstChild(tn)
            if t then LP.Character.Humanoid:EquipTool(t) end
        else
            local c,e = LP.Character,nil
            e = c and c:FindFirstChild(tn)
            if e then e.Parent=LP.Backpack end
        end
        if v then task.spawn(function() while _G["Auto"..tn] do if not _G["Auto"..tn] then break end LP.muscleEvent:FireServer("rep") task.wait(0.1) end end) end
    end)
end

addToolSwitch("Auto Weight","Weight")
addToolSwitch("Auto Pushups","Pushups")
addToolSwitch("Auto Handstands","Handstands")
addToolSwitch("Auto Situps","Situps")

autoEquipToolsFolder:AddSwitch("Auto Punch",function(v)
    _G.fastHitActive=v
    if v then
        task.spawn(function() while _G.fastHitActive do if not _G.fastHitActive then break end local p,pt = LP,LP.Backpack:FindFirstChild("Punch") if pt then pt.Parent=LP.Character if pt:FindFirstChild("attackTime") then pt.attackTime.Value=0 end end task.wait(0.1) end end)
        task.spawn(function() while _G.fastHitActive do if not _G.fastHitActive then break end LP.muscleEvent:FireServer("punch","rightHand") LP.muscleEvent:FireServer("punch","leftHand") local c,pt = LP.Character,nil pt = c and c:FindFirstChild("Punch") if pt then pt:Activate() end task.wait(0) end end)
    else
        local c,e = LP.Character,nil
        e = c and c:FindFirstChild("Punch")
        if e then e.Parent=LP.Backpack end
    end
end)

autoEquipToolsFolder:AddSwitch("Fast Tools",function(v)
    _G.FastTools=v
    local ds = {{"Punch","attackTime",v and 0 or 0.35},{"Ground Slam","attackTime",v and 0 or 6},{"Stomp","attackTime",v and 0 or 7},{"Handstands","repTime",v and 0 or 1},{"Pushups","repTime",v and 0 or 1},{"Weight","repTime",v and 0 or 1},{"Situps","repTime",v and 0 or 1}}
    local bp = LP:WaitForChild("Backpack")
    for _,ti in ipairs(ds) do
        local t = bp:FindFirstChild(ti[1])
        if t and t:FindFirstChild(ti[2]) then t[ti[2]].Value=ti[3] end
        local et = LP.Character and LP.Character:FindFirstChild(ti[1])
        if et and et:FindFirstChild(ti[2]) then et[ti[2]].Value=ti[3] end
    end
end)

local rebirthsFolder = FarmTab:AddFolder("  Auto Rebirths")
targetRebirthValue = 0

rebirthsFolder:AddTextBox("Rebirth Target",function(txt)
    local nv = tonumber(txt)
    if nv and nv>0 then
        targetRebirthValue=nv
        game:GetService("StarterGui"):SetCore("SendNotification",{Title="Objetivo Actualizado",Text="Nuevo objetivo: "..tostring(targetRebirthValue).." renacimientos",Duration=0})
    else
        game:GetService("StarterGui"):SetCore("SendNotification",{Title="Entrada Inválida",Text="Por favor ingresa un número válido mayor que 0",Duration=0})
    end
end)

local infiniteSwitch
local targetSwitch = rebirthsFolder:AddSwitch("Auto Rebirth Target",function(b)
    _G.targetRebirthActive=b
    if b then
        if _G.infiniteRebirthActive and infiniteSwitch then infiniteSwitch:Set(false) _G.infiniteRebirthActive=false end
        spawn(function()
            while _G.targetRebirthActive and wait(0.1) do
                local cr = LP.leaderstats.Rebirths.Value
                if cr>=targetRebirthValue then
                    targetSwitch:Set(false) _G.targetRebirthActive=false
                    game:GetService("StarterGui"):SetCore("SendNotification",{Title="¡Objetivo Alcanzado!",Text="Has alcanzado "..tostring(targetRebirthValue).." renacimientos",Duration=5})
                    break
                end
                RS.rEvents.rebirthRemote:InvokeServer("rebirthRequest")
            end
        end)
    end
end)

infiniteSwitch = rebirthsFolder:AddSwitch("Auto Rebirth (Infinite)",function(b)
    _G.infiniteRebirthActive=b
    if b then
        if _G.targetRebirthActive and targetSwitch then targetSwitch:Set(false) _G.targetRebirthActive=false end
        spawn(function() while _G.infiniteRebirthActive and wait(0.1) do RS.rEvents.rebirthRemote:InvokeServer("rebirthRequest") end end)
    end
end)

rebirthsFolder:AddSwitch("Auto Size 1",function(b)
    _G.autoSizeActive=b
    if b then spawn(function() while _G.autoSizeActive and wait() do RS.rEvents.changeSpeedSizeRemote:InvokeServer("changeSize",1) end end) end
end)

local autoSetEnabled,sizeValue = false,false
rebirthsFolder:AddSwitch("Auto Set Size 2",function(s)
    autoSetEnabled,_G.autoSetSizeEnabled = s,s
    if s then RS.rEvents.changeSpeedSizeRemote:InvokeServer("changeSize",sizeValue) end
end)

spawn(function() while true do if autoSetEnabled then RS.rEvents.changeSpeedSizeRemote:InvokeServer("changeSize",sizeValue) end wait(0.01) end end)

rebirthsFolder:AddSwitch("Auto Teleport King",function(s)
    _G.SafeZone=s
    if s then
        while _G.SafeZone do
            local c,p = LP.Character,Vector3.new(-8636,17,-5759)
            if c and c:FindFirstChild("HumanoidRootPart") then c.HumanoidRootPart.CFrame=CFrame.new(p) end
            task.wait(0.001)
        end
    end
end)

rebirthsFolder:AddButton("Anti Rebirth",function()
    local oldnc
    oldnc = hookmetamethod(game,"__namecall",function(self,...)
        local args = {...}
        if self.Name=="rebirthRemote" and args[1]=="rebirthRequest" then return end
        return oldnc(self,unpack(args))
    end)
end)

local toolsCombFolder = FarmTab:AddFolder("  Auto Tools OP")
toolsCombFolder:AddLabel("-----{ Weight + Punch }-----")

local function AddAutoTool(t,tn,rn,d)
    local e = false
    local function Eq()
        local bp,tl = LP:FindFirstChild("Backpack"),nil
        tl = bp and bp:FindFirstChild(tn)
        if tl and not LP.Character:FindFirstChild(tn) then LP.Character.Humanoid:EquipTool(tl) end
    end
    local function Uneq()
        local c,tl = LP.Character,nil
        tl = c and c:FindFirstChild(tn)
        if tl then tl.Parent=LP.Backpack end
    end
    local sw = toolsCombFolder:AddSwitch(t,function(s)
        e=s
        if e then
            Eq() _G.autopunch=true
            task.spawn(function()
                while e do
                    LP.muscleEvent:FireServer("rep")
                    local r = workspace.machinesFolder:FindFirstChild(rn)
                    if r and LP.Character and LP.Character:FindFirstChild("LeftHand") then
                        firetouchinterest(r.Rock,LP.Character.LeftHand,0) task.wait(d) firetouchinterest(r.Rock,LP.Character.LeftHand,1)
                    end
                    local c,h = LP.Character,nil
                    h = c and c:FindFirstChildOfClass("Humanoid")
                    if h then
                        local pt = LP.Backpack:FindFirstChild("Punch")
                        if pt then h:EquipTool(pt) end
                        LP.muscleEvent:FireServer("punch","rightHand")
                        LP.muscleEvent:FireServer("punch","leftHand")
                    end
                    RunService.RenderStepped:Wait()
                    Eq()
                end
            end)
        else
            _G.autopunch=false Uneq()
        end
    end)
    LP.CharacterAdded:Connect(function() if e then Eq() else Uneq() end end)
    sw:Set(false)
end

AddAutoTool("Auto Pushup + Auto Punch Rock","Pushups","Ancient Jungle Rock",0.0001)
AddAutoTool("Auto Situp + Auto Punch Rock","Situps","Ancient Jungle Rock",0.0001)
AddAutoTool("Auto Handstands + Auto Punch Rock","Handstands","Ancient Jungle Rock",0.0001)
AddAutoTool("Auto Weight + Auto Punch Rock","Weight","Ancient Jungle Rock",0.0001)

local PacksTab = window:AddTab("Packs")
local RebirthFolder = PacksTab:AddFolder("  Rebirth With Packs")

local blockedFrames = {"strengthFrame","durabilityFrame","agilityFrame"}
for _,n in ipairs(blockedFrames) do
    local f = RS:FindFirstChild(n)
    if f and f:IsA("GuiObject") then f.Visible=false end
end
RS.ChildAdded:Connect(function(c) if table.find(blockedFrames,c.Name) and c:IsA("GuiObject") then c.Visible=false end end)

local function formatNumber(n)
    if n>=1e15 then return string.format("%.2fQ",n/1e15) end
    if n>=1e12 then return string.format("%.2fT",n/1e12) end
    if n>=1e9 then return string.format("%.2fB",n/1e9) end
    if n>=1e6 then return string.format("%.2fM",n/1e6) end
    if n>=1e3 then return string.format("%.2fK",n/1e3) end
    return string.format("%.0f",n)
end

local isRunning,startTime,totalElapsed,initialRebirths = false,0,0,rebirthsStat.Value
local serverLabel = RebirthFolder:AddLabel("Time:") serverLabel.TextSize=20
local timeLabel = RebirthFolder:AddLabel("0d 0h 0m 0s - Inactive")
local paceLabel = RebirthFolder:AddLabel("Pace: 0 / Hour | 0 / Day | 0 / Week")
local averagePaceLabel = RebirthFolder:AddLabel("Average Pace: 0 / Hour | 0 / Day | 0 / Week")
paceLabel.TextSize,averagePaceLabel.TextSize,timeLabel.TextSize,timeLabel.TextColor3 = 17,17,17,Color3.fromRGB(255,50,50)
local rebirthsStatsLabel = RebirthFolder:AddLabel("Rebirths: "..formatNumber(rebirthsStat.Value).." | Gained: 0") rebirthsStatsLabel.TextSize=17

local lastRebirthTime,lastRebirthValue = tick(),rebirthsStat.Value
local function updateRebirthsLabel()
    local g = rebirthsStat.Value-initialRebirths
    rebirthsStatsLabel.Text = string.format("Rebirths: %s | Gained: %s",formatNumber(rebirthsStat.Value),formatNumber(g))
end

local function updateUI(f)
    local ct,e = tick(),isRunning and (ct-startTime+totalElapsed) or totalElapsed
    local d,h,m,s = math.floor(e/86400),math.floor((e%86400)/3600),math.floor((e%3600)/60),math.floor(e%60)
    timeLabel.Text = string.format("%dd %dh %dm %ds - %s",d,h,m,s,isRunning and "Rebirthing" or "Paused")
    timeLabel.TextColor3 = isRunning and Color3.fromRGB(50,255,50) or Color3.fromRGB(255,50,50)
end

local paceHistoryHour,paceHistoryDay,paceHistoryWeek,maxHistoryLength,rebirthCount = {},{},{},20,0
local function calculatePaceOnRebirth()
    rebirthCount = rebirthCount+1
    if rebirthCount<2 then lastRebirthTime,lastRebirthValue = tick(),rebirthsStat.Value return end
    local now,g = tick(),rebirthsStat.Value-lastRebirthValue
    if g>0 then
        local at = (now-lastRebirthTime)/g
        local ph,pd,pw = 3600/at,86400/at,604800/at
        paceLabel.Text = string.format("Pace: %s / Hour | %s / Day | %s / Week",formatNumber(ph),formatNumber(pd),formatNumber(pw))
        table.insert(paceHistoryHour,ph) table.insert(paceHistoryDay,pd) table.insert(paceHistoryWeek,pw)
        if #paceHistoryHour>maxHistoryLength then table.remove(paceHistoryHour,1) table.remove(paceHistoryDay,1) table.remove(paceHistoryWeek,1) end
        local function avg(tbl) local sm=0 for _,v in ipairs(tbl) do sm=sm+v end return #tbl>0 and (sm/#tbl) or 0 end
        local ah,ad,aw = avg(paceHistoryHour),avg(paceHistoryDay),avg(paceHistoryWeek)
        averagePaceLabel.Text = string.format("Average Pace: %s / Hour | %s / Day | %s / Week",formatNumber(ah),formatNumber(ad),formatNumber(aw))
        lastRebirthTime,lastRebirthValue = now,rebirthsStat.Value
    end
end

rebirthsStat:GetPropertyChangedSignal("Value"):Connect(function() calculatePaceOnRebirth() updateRebirthsLabel() end)

local function managePets(pn)
    for _,f in pairs(LP.petsFolder:GetChildren()) do
        if f:IsA("Folder") then for _,p in pairs(f:GetChildren()) do RS.rEvents.equipPetEvent:FireServer("unequipPet",p) end end
    end
    task.wait(0.1)
    for _,p in pairs(LP.petsFolder.Unique:GetChildren()) do if p.Name==pn then RS.rEvents.equipPetEvent:FireServer("equipPet",p) end end
end

local function doRebirth()
    local rb,st = rebirthsStat.Value,5000+(rb*2550)
    while isRunning and LP.leaderstats.Strength.Value<st do
        local rp = LP.MembershipType==Enum.MembershipType.Premium and 8 or 14
        for _=1,rp do muscleEvent:FireServer("rep") end
        task.wait(0.02)
    end
    if isRunning and LP.leaderstats.Strength.Value>=st then
        managePets("Tribal Overlord") task.wait(0.25)
        local bf = rebirthsStat.Value
        repeat RS.rEvents.rebirthRemote:InvokeServer("rebirthRequest") task.wait(0.05) until rebirthsStat.Value>bf or not isRunning
    end
end

local function fastRebirthLoop() while isRunning do managePets("Swift Samurai") doRebirth() task.wait(0.5) end end

RebirthFolder:AddLabel("")
local RebirthLabel = RebirthFolder:AddLabel("Rebirthing:") RebirthLabel.TextSize=20
RebirthFolder:AddSwitch("Fast Rebirth",function(s)
    isRunning=s
    if s then startTime=tick() task.spawn(fastRebirthLoop) else totalElapsed=totalElapsed+(tick()-startTime) updateUI(true) end
end)

task.spawn(function() while true do updateUI(false) task.wait(0.1) end end)

local running,thread = false,nil
local sizeeSwitch = RebirthFolder:AddSwitch("Set Size 1",function(b)
    running=b
    if running then thread=coroutine.create(function() while running do RS.rEvents.changeSpeedSizeRemote:InvokeServer("changeSize",1) wait(0.01) end end) coroutine.resume(thread) end
end)

RebirthFolder:AddButton("Anti Lag",function()
    local pg,lt = LP:WaitForChild("PlayerGui"),game:GetService("Lighting")
    for _,g in pairs(pg:GetChildren()) do if g:IsA("ScreenGui") then g:Destroy() end end
    local function darkenSky()
        for _,v in pairs(lt:GetChildren()) do if v:IsA("Sky") then v:Destroy() end end
        local ds = Instance.new("Sky") ds.Name="DarkSky"
        ds.SkyboxBk,ds.SkyboxDn,ds.SkyboxFt,ds.SkyboxLf,ds.SkyboxRt,ds.SkyboxUp,ds.Parent = "rbxassetid://0","rbxassetid://0","rbxassetid://0","rbxassetid://0","rbxassetid://0","rbxassetid://0",lt
        lt.Brightness,lt.ClockTime,lt.TimeOfDay,lt.OutdoorAmbient,lt.Ambient,lt.FogColor,lt.FogEnd = 0,0,"00:00:00",Color3.new(0,0,0),Color3.new(0,0,0),Color3.new(0,0,0),100
        task.spawn(function() while true do wait(5) if not lt:FindFirstChild("DarkSky") then ds:Clone().Parent=lt end lt.Brightness,lt.ClockTime,lt.OutdoorAmbient,lt.Ambient,lt.FogColor,lt.FogEnd = 0,0,Color3.new(0,0,0),Color3.new(0,0,0),Color3.new(0,0,0),100 end end)
    end
    for _,o in pairs(workspace:GetDescendants()) do if o:IsA("ParticleEmitter") or o:IsA("PointLight") or o:IsA("SpotLight") or o:IsA("SurfaceLight") then o:Destroy() end end
    darkenSky()
end)

RebirthFolder:AddLabel("")
local miscLabel = RebirthFolder:AddLabel("Misc:") miscLabel.TextSize=20

local lockRunning,lockThread = false,nil
local lockSwitch = RebirthFolder:AddSwitch("Lock Position",function(s)
    lockRunning=s
    if lockRunning then
        local c,hrp = LP.Character or LP.CharacterAdded:Wait(),nil hrp = c:WaitForChild("HumanoidRootPart")
        local lp = hrp.Position
        lockThread=coroutine.create(function() while lockRunning do hrp.Velocity,hrp.RotVelocity,hrp.CFrame = Vector3.new(0,0,0),Vector3.new(0,0,0),CFrame.new(lp) wait(0.05) end end)
        coroutine.resume(lockThread)
    end
end)

local function activateShake()
    local t = LP.Character:FindFirstChild("Tropical Shake") or LP.Backpack:FindFirstChild("Tropical Shake")
    if t then muscleEvent:FireServer("tropicalShake",t) end
end

local rn = false
task.spawn(function() while true do if rn then activateShake() task.wait(450) else task.wait(1) end end end)
local autoshakeSwitch = RebirthFolder:AddSwitch("Auto Shake",function(s) rn=s if s then activateShake() end end) autoshakeSwitch:Set(false)

local spinwheelSwitch = RebirthFolder:AddSwitch("Spin Fortune Wheel",function(b)
    _G.AutoSpinWheel=b
    if b then spawn(function() while _G.AutoSpinWheel and wait(1) do RS.rEvents.openFortuneWheelRemote:InvokeServer("openFortuneWheel",RS.fortuneWheelChances["Fortune Wheel"]) end end) end
end)

RebirthFolder:AddButton("Jungle Lift",function()
    local c,hrp = LP.Character or LP.CharacterAdded:wait(),nil hrp = c:WaitForChild("HumanoidRootPart")
    hrp.CFrame = CFrame.new(-8642.396484375,6.7980651855,2086.1030273) task.wait(0.2)
    VIM:SendKeyEvent(true,Enum.KeyCode.E,false,game) task.wait(0.05) VIM:SendKeyEvent(false,Enum.KeyCode.E,false,game)
end)

local StrengthFolder = PacksTab:AddFolder("  Strength With Packs")
local strengthStat,durabilityStat = leaderstats:WaitForChild("Strength"),LP:WaitForChild("Durability")

StrengthFolder:AddLabel("Time:").TextSize=20
local stopwatchLabel = StrengthFolder:AddLabel("0d 0h 0m 0s - Fast Rep Inactive") stopwatchLabel.TextSize,stopwatchLabel.TextColor3 = 17,Color3.fromRGB(255,50,50)
local projectedStrengthLabel = StrengthFolder:AddLabel("Strength Pace: 0 /Hour | 0 /Day | 0 /Week") projectedStrengthLabel.TextSize=17
local projectedDurabilityLabel = StrengthFolder:AddLabel("Durability Pace: 0 /Hour | 0 /Day | 0 /Week") projectedDurabilityLabel.TextSize=17
local averageStrengthLabel = StrengthFolder:AddLabel("Average Strength Pace: 0 /Hour | 0 /Day | 0 /Week") averageStrengthLabel.TextSize=17
local averageDurabilityLabel = StrengthFolder:AddLabel("Average Durability Pace: 0 /Hour | 0 /Day | 0 /Week") averageDurabilityLabel.TextSize=17
StrengthFolder:AddLabel("").TextSize=10
local statsLabel = StrengthFolder:AddLabel("Stats:") statsLabel.TextSize=20
local strengthLabel = StrengthFolder:AddLabel("Strength: 0 | Gained: 0") strengthLabel.TextSize=17
local durabilityLabel = StrengthFolder:AddLabel("Durability: 0 | Gained: 0") durabilityLabel.TextSize=17

local sTime,pausedElapsedTime,runFastRep,trackingStarted,strengthHistory,durabilityHistory,calculationInterval = 0,0,false,false,{},{},10
local initialStrength,initialDurability = strengthStat.Value,durabilityStat.Value

task.spawn(function()
    local lct = tick()
    while true do
        local ct,cs,cd = tick(),strengthStat.Value,durabilityStat.Value
        strengthLabel.Text = "Strength: "..formatNumber(cs).." | Gained: "..formatNumber(cs-initialStrength)
        durabilityLabel.Text = "Durability: "..formatNumber(cd).." | Gained: "..formatNumber(cd-initialDurability)
        if runFastRep then
            if not trackingStarted then trackingStarted,sTime,strengthHistory,durabilityHistory = true,ct,{},{} end
            local et = pausedElapsedTime+(ct-sTime)
            local d,h,m,s = math.floor(et/(24*3600)),math.floor((et%(24*3600))/3600),math.floor((et%3600)/60),math.floor(et%60)
            stopwatchLabel.Text = string.format("%dd %dh %dm %ds - Fast Rep Running",d,h,m,s) stopwatchLabel.TextColor3 = Color3.fromRGB(50,255,50)
            table.insert(strengthHistory,{time=ct,value=cs}) table.insert(durabilityHistory,{time=ct,value=cd})
            while #strengthHistory>0 and ct-strengthHistory[1].time>calculationInterval do table.remove(strengthHistory,1) end
            while #durabilityHistory>0 and ct-durabilityHistory[1].time>calculationInterval do table.remove(durabilityHistory,1) end
            if ct-lct>=calculationInterval then
                lct=ct
                if #strengthHistory>=2 then
                    local sd,sps = strengthHistory[#strengthHistory].value-strengthHistory[1].value,0
                    sps = sd/calculationInterval
                    local sph,spd,spw = sps*3600,sps*86400,sps*604800
                    projectedStrengthLabel.Text = "Strength Pace: "..formatNumber(sph).."/Hour | "..formatNumber(spd).."/Day | "..formatNumber(spw).."/Week"
                end
                if #durabilityHistory>=2 then
                    local dd,dps = durabilityHistory[#durabilityHistory].value-durabilityHistory[1].value,0
                    dps = dd/calculationInterval
                    local dph,dpd,dpw = dps*3600,dps*86400,dps*604800
                    projectedDurabilityLabel.Text = "Durability Pace: "..formatNumber(dph).."/Hour | "..formatNumber(dpd).."/Day | "..formatNumber(dpw).."/Week"
                end
                local te = pausedElapsedTime+(ct-sTime)
                if te>0 then
                    local asps,aspH,aspD,aspW = (cs-initialStrength)/te,0,0,0
                    aspH,aspD,aspW = asps*3600,asps*86400,asps*604800
                    averageStrengthLabel.Text = "Average Strength Pace: "..formatNumber(aspH).."/Hour | "..formatNumber(aspD).."/Day | "..formatNumber(aspW).."/Week"
                    local adps,adpH,adpD,adpW = (cd-initialDurability)/te,0,0,0
                    adpH,adpD,adpW = adps*3600,adps*86400,adps*604800
                    averageDurabilityLabel.Text = "Average Durability Pace: "..formatNumber(adpH).."/Hour | "..formatNumber(adpD).."/Day | "..formatNumber(adpW).."/Week"
                end
            end
        else
            if trackingStarted then
                trackingStarted,pausedElapsedTime = false,pausedElapsedTime+(ct-sTime)
                stopwatchLabel.Text = string.format("%dd %dh %dm %ds - Fast Rep Stopped",math.floor(pausedElapsedTime/(24*3600)),math.floor((pausedElapsedTime%(24*3600))/3600),math.floor((pausedElapsedTime%3600)/60),math.floor(pausedElapsedTime%60))
                stopwatchLabel.TextColor3 = Color3.fromRGB(255,165,0)
                projectedStrengthLabel.Text,projectedDurabilityLabel.Text,averageStrengthLabel.Text,averageDurabilityLabel.Text = "Strength Pace: 0 /Hour | 0 /Day | 0 /Week","Durability Pace: 0 /Hour | 0 /Day | 0 /Week","Average Strength Pace: 0 /Hour | 0 /Day | 0 /Week","Average Durability Pace: 0 /Hour | 0 /Day | 0 /Week"
                strengthHistory,durabilityHistory = {},{}
            end
        end
        task.wait(0.05)
    end
end)

StrengthFolder:AddLabel("")
StrengthFolder:AddLabel("Fast Farm (Recommended Speed: 20)").TextSize=20

local repsPerTick = 1
local function getPing()
    local st,ps = game:GetService("Stats"),nil
    ps = st:FindFirstChild("PerformanceStats") and st.PerformanceStats:FindFirstChild("Ping")
    return ps and ps:GetValue() or 0
end

StrengthFolder:AddTextBox("Rep Speed",function(v) local n = tonumber(v) if n and n>0 then repsPerTick=math.floor(n) end end,{placeholder="1"})

local function fastRepLoop()
    while runFastRep do
        local st = tick()
        while tick()-st<0.75 and runFastRep do for i=1,repsPerTick do muscleEvent:FireServer("rep") end task.wait(0.02) end
        while runFastRep and getPing()>=350 do task.wait(1) end
    end
end

StrengthFolder:AddSwitch("Fast Rep",function(s)
    if s and not runFastRep then runFastRep=true task.spawn(fastRepLoop)
    elseif not s and runFastRep then runFastRep=false end
end)

StrengthFolder:AddLabel("")
StrengthFolder:AddLabel("Misc:").TextSize=20

local function unequipPets()
    for _,f in pairs(LP.petsFolder:GetChildren()) do
        if f:IsA("Folder") then for _,p in pairs(f:GetChildren()) do RS.rEvents.equipPetEvent:FireServer("unequipPet",p) end end
    end
    task.wait(0.1)
end

local function equipPetsByName(n)
    unequipPets() task.wait(0.01)
    for _,p in pairs(LP.petsFolder.Unique:GetChildren()) do if p.Name==n then RS.rEvents.equipPetEvent:FireServer("equipPet",p) end end
end

local function activateProteinEgg()
    local t = LP.Character:FindFirstChild("Protein Egg") or LP.Backpack:FindFirstChild("Protein Egg")
    if t then muscleEvent:FireServer("proteinEgg",t) end
end

local run = false
task.spawn(function() while true do if run then activateProteinEgg() task.wait(1800) else task.wait(1) end end end)
local sw = StrengthFolder:AddSwitch("Auto Egg",function(s) run=s if s then activateProteinEgg() end end) sw:Set(false)

local rnn = false
task.spawn(function() while true do if rnn then activateShake() task.wait(900) else task.wait(1) end end end)
local sww = StrengthFolder:AddSwitch("Auto Shake",function(s) rnn=s if s then activateShake() end end) sww:Set(false)

local sppinwheelSwitch = StrengthFolder:AddSwitch("Spin Fortune Wheel",function(b)
    _G.AutoSpinWheel=b
    if b then spawn(function() while _G.AutoSpinWheel and wait(1) do RS.rEvents.openFortuneWheelRemote:InvokeServer("openFortuneWheel",RS.fortuneWheelChances["Fortune Wheel"]) end end) end
end)

StrengthFolder:AddButton("Jungle Squat",function()
    local c,hrp = LP.Character or LP.CharacterAdded:wait(),nil hrp = c:WaitForChild("HumanoidRootPart")
    hrp.CFrame = CFrame.new(-8371.43359375,6.79806327,2858.88525390) task.wait(0.2)
    VIM:SendKeyEvent(true,Enum.KeyCode.E,false,game) task.wait(0.05) VIM:SendKeyEvent(false,Enum.KeyCode.E,false,game)
end)

StrengthFolder:AddButton("Anti Lag",function()
    local pg,lt = LP:WaitForChild("PlayerGui"),game:GetService("Lighting")
    for _,g in pairs(pg:GetChildren()) do if g:IsA("ScreenGui") then g:Destroy() end end
    local function darkenSky()
        for _,v in pairs(lt:GetChildren()) do if v:IsA("Sky") then v:Destroy() end end
        local ds = Instance.new("Sky") ds.Name="DarkSky"
        ds.SkyboxBk,ds.SkyboxDn,ds.SkyboxFt,ds.SkyboxLf,ds.SkyboxRt,ds.SkyboxUp,ds.Parent = "rbxassetid://0","rbxassetid://0","rbxassetid://0","rbxassetid://0","rbxassetid://0","rbxassetid://0",lt
        lt.Brightness,lt.ClockTime,lt.TimeOfDay,lt.OutdoorAmbient,lt.Ambient,lt.FogColor,lt.FogEnd = 0,0,"00:00:00",Color3.new(0,0,0),Color3.new(0,0,0),Color3.new(0,0,0),100
        task.spawn(function() while true do wait(5) if not lt:FindFirstChild("DarkSky") then ds:Clone().Parent=lt end lt.Brightness,lt.ClockTime,lt.OutdoorAmbient,lt.Ambient,lt.FogColor,lt.FogEnd = 0,0,Color3.new(0,0,0),Color3.new(0,0,0),Color3.new(0,0,0),100 end end)
    end
    for _,o in pairs(workspace:GetDescendants()) do if o:IsA("ParticleEmitter") or o:IsA("PointLight") or o:IsA("SpotLight") or o:IsA("SurfaceLight") then o:Destroy() end end
    darkenSky()
end)

StrengthFolder:AddButton("Equip Swift Samurai",function() unequipPets() equipPetsByName("Swift Samurai") end)

local estadisticas = window:AddTab("Stats")

local SelectPlayerName = ""

local PlayerDrop = estadisticas:AddDropdown("Select Player", function(Value)
    SelectPlayerName = Value:match("| (.+)")
    previousValues = {}
end)

local Playerslist = {}
for _, Plr in pairs(game:GetService("Players"):GetPlayers()) do
    local displayName = Plr.DisplayName .. " | " .. Plr.Name
    table.insert(Playerslist, displayName)
end
for _, AddPlr in ipairs(Playerslist) do
    PlayerDrop:Add(AddPlr)
end

local function FormatNumberWithCommas(number)
    local formatted = tostring(number):reverse():gsub("(%d%d%d)", "%1,"):reverse()
    return formatted:gsub("^,", "")
end

local function FormatAbbreviated(number)
    local abbreviations = {"", "K", "M", "B", "T", "Qa", "Qi"}
    local abbreviationIndex = 1
    while number >= 1000 do
        number = number / 1000
        abbreviationIndex = abbreviationIndex + 1
    end
    return string.format("%.2f", number) .. abbreviations[abbreviationIndex]
end

local function FormatDisplay(value)
    local normal = FormatNumberWithCommas(value)
    local abbreviated = FormatAbbreviated(value)
    return "[ " .. normal .. " | " .. abbreviated .. " ]"
end

local previousValues = {}

local Update = estadisticas:AddLabel("")
local Update1 = estadisticas:AddLabel("")
local Update2 = estadisticas:AddLabel("")
local Update3 = estadisticas:AddLabel("")
local Update4 = estadisticas:AddLabel("")
local Update5 = estadisticas:AddLabel("")
local Update6 = estadisticas:AddLabel("")
local Update9 = estadisticas:AddLabel("")
local Update10 = estadisticas:AddLabel("")
local Update11 = estadisticas:AddLabel("")
local Update12 = estadisticas:AddLabel("")
local Update13 = estadisticas:AddLabel("")

task.spawn(function()
    while task.wait(0) do
        if SelectPlayerName ~= "" then
            local player = game.Players:FindFirstChild(SelectPlayerName)
            if player then
                if player:FindFirstChild("Gems") then
                    Update1.Text = "Gems: " .. FormatDisplay(player.Gems.Value)
                end
                if player:FindFirstChild("Agility") then
                    Update3.Text = "Agility: " .. FormatDisplay(player.Agility.Value)
                end
                if player:FindFirstChild("Durability") then
                    Update4.Text = "Durability: " .. FormatDisplay(player.Durability.Value)
                end
                if player:FindFirstChild("muscleKingTime") then
                    Update6.Text = "Muscle King Time: " .. FormatDisplay(player.muscleKingTime.Value)
                end
                if player:FindFirstChild("customSize") then
                    Update10.Text = "Custom Size: " .. FormatDisplay(player.customSize.Value)
                end
                if player:FindFirstChild("customSpeed") then
                    Update11.Text = "Custom Speed: " .. FormatDisplay(player.customSpeed.Value)
                end
                if player:FindFirstChild("evilKarma") then
                    Update12.Text = "Evil Karma: " .. FormatDisplay(player.evilKarma.Value)
                end
                if player:FindFirstChild("goodKarma") then
                    Update13.Text = "Good Karma: " .. FormatDisplay(player.goodKarma.Value)
                end

                local leaderstats = player:FindFirstChild("leaderstats")
                if leaderstats then
                    if leaderstats:FindFirstChild("Strength") then
                        Update.Text = "Strength: " .. FormatDisplay(leaderstats.Strength.Value)
                    end
                    if leaderstats:FindFirstChild("Rebirths") then
                        Update2.Text = "Rebirth: " .. FormatDisplay(leaderstats.Rebirths.Value)
                    end
                    if leaderstats:FindFirstChild("Kills") then
                        Update5.Text = "Kills: " .. FormatDisplay(leaderstats.Kills.Value)
                    end
                end

                if player:FindFirstChild("currentMap") then
                    Update9.Text = "Current Map: " .. tostring(player.currentMap.Value)
                else
                    Update9.Text = "Current Map:"
                end
            end
        end
    end
end)

estadisticas:AddLabel("————————————————————————————")
estadisticas:AddLabel("Advanced Stats:").TextSize = 24

local enemyHealthLabel = estadisticas:AddLabel("Enemy Health: N/A")
enemyHealthLabel.TextSize = 20
enemyHealthLabel.TextColor3 = Color3.fromRGB(255, 255, 255)

local playerDamageLabel = estadisticas:AddLabel("Your Damage: N/A")
playerDamageLabel.TextSize = 20
playerDamageLabel.TextColor3 = Color3.fromRGB(255, 255, 255)

local hitsToKillLabel = estadisticas:AddLabel("Hits to Kill: N/A")
hitsToKillLabel.TextSize = 20
hitsToKillLabel.TextColor3 = Color3.fromRGB(255, 255, 255)

local function calculateEnemyHealth(targetPlayer)
    if not targetPlayer then return 0 end

    local baseDura = 0
    local durabilityStat =
        targetPlayer:FindFirstChild("Durability") or
        (targetPlayer:FindFirstChild("leaderstats") and targetPlayer.leaderstats:FindFirstChild("Durability"))

    if durabilityStat then
        baseDura = durabilityStat.Value
    end

    local totalMultiplier = 1

    local ultFolder = targetPlayer:FindFirstChild("ultimatesFolder")
    if ultFolder then
        local infernalHealth = ultFolder:FindFirstChild("Infernal Health")
        if infernalHealth then
            totalMultiplier = totalMultiplier + 0.15 * (infernalHealth.Value or 0)
        end
    end

    local backpack = targetPlayer:FindFirstChild("Backpack")
    if backpack then
        local equippedPets = backpack:FindFirstChild("EquippedPets") or backpack:FindFirstChild("equippedPets")
        if equippedPets then
            for _, pet in ipairs(equippedPets:GetChildren()) do
                if string.lower(tostring(pet)):match("mighty") and string.lower(tostring(pet)):match("monster") then
                    totalMultiplier = totalMultiplier + 0.5
                    break
                end
            end
        end
    end

    return baseDura * totalMultiplier
end

local function calculateLocalPlayerDamage()
    local LocalPlayer = game.Players.LocalPlayer
    if not LocalPlayer then return 0 end

    local strengthStat = nil
    local leaderstats = LocalPlayer:FindFirstChild("leaderstats")
    if leaderstats then
        strengthStat = leaderstats:FindFirstChild("Strength")
    end
    if not strengthStat then return 0 end

    local baseDamage = strengthStat.Value * 0.0667
    local totalMultiplier = 1

    local ultFolder = LocalPlayer:FindFirstChild("ultimatesFolder")
    if ultFolder then
        local demonDamage = ultFolder:FindFirstChild("Demon Damage")
        if demonDamage then
            totalMultiplier = totalMultiplier + math.min(0.1 * (demonDamage.Value or 0), 0.5)
        end
    end

    local backpack = LocalPlayer:FindFirstChild("Backpack")
    if backpack then
        local equippedPets = backpack:FindFirstChild("EquippedPets") or backpack:FindFirstChild("equippedPets")
        if equippedPets then
            for _, pet in ipairs(equippedPets:GetChildren()) do
                if string.lower(tostring(pet)):match("wild") and string.lower(tostring(pet)):match("wizard") then
                    totalMultiplier = totalMultiplier + 0.5
                    break
                end
            end
        end
    end

    return baseDamage * totalMultiplier
end

local function calculateHitsToKill(health, damage)
    if damage <= 0 then return "∞" end
    local hits = math.ceil(health / damage)
    if hits > 50 then
        return "∞"
    elseif hits < 1 then
        return 1
    else
        return hits
    end
end

local function updateAdvancedStats(targetPlayer)
    if not targetPlayer then
        enemyHealthLabel.Text = "Enemy Health: N/A"
        playerDamageLabel.Text = "Your Damage: N/A"
        hitsToKillLabel.Text = "Hits to Kill: N/A"
        return
    end

    local enemyHealth = calculateEnemyHealth(targetPlayer)
    local playerDamage = calculateLocalPlayerDamage()
    local hitsToKill = calculateHitsToKill(enemyHealth, playerDamage)

    enemyHealthLabel.Text = "Enemy Health: " .. FormatDisplay(enemyHealth)
    playerDamageLabel.Text = "Your Damage: " .. FormatDisplay(playerDamage)
    hitsToKillLabel.Text = "Hits to Kill: " .. tostring(hitsToKill)
end

task.spawn(function()
    while task.wait(0.3) do
        local selectedPlayer = game.Players:FindFirstChild(SelectPlayerName)
        updateAdvancedStats(selectedPlayer)
    end
end)

local miscTab = window:AddTab("Misc")

local misc1Folder = miscTab:AddFolder("  Misc 1")

local player = game:GetService("Players").LocalPlayer
local speedValue = 16
local autoSizeEnabled = false
local autoSpeedEnabled = false
local autoSizeConnection = nil
local autoSpeedConnection = nil

misc1Folder:AddTextBox("Auto Size", function(text)
    sizeValue = tonumber(text) or 2

    if autoSizeEnabled then
        pcall(function()
            game:GetService("ReplicatedStorage").rEvents.changeSpeedSizeRemote:InvokeServer("changeSize", sizeValue)
        end)
    end
end)

local autoSizeSwitch = misc1Folder:AddSwitch("Auto Set Size", function(bool)
    autoSizeEnabled = bool

    if autoSizeEnabled then
        spawn(function()
            while autoSizeEnabled do
                pcall(function()
                    game:GetService("ReplicatedStorage").rEvents.changeSpeedSizeRemote:InvokeServer("changeSize", sizeValue)
                end)
                wait(0.1)
            end
        end)
    end
end)

misc1Folder:AddTextBox("Auto Speed", function(text)
    speedValue = tonumber(text) or 16

    if player and player.Character and player.Character:FindFirstChild("Humanoid") then
        player.Character.Humanoid.WalkSpeed = speedValue
    end
end)

misc1Folder:AddSwitch("Auto Set Speed", function(bool)
    autoSpeedEnabled = bool

    if autoSpeedEnabled then
        if player and player.Character and player.Character:FindFirstChild("Humanoid") then
            player.Character.Humanoid.WalkSpeed = speedValue
        end

        if autoSpeedConnection then
            autoSpeedConnection:Disconnect()
        end

        autoSpeedConnection = player.CharacterAdded:Connect(function(character)
            local humanoid = character:WaitForChild("Humanoid")
            if humanoid then
                humanoid.WalkSpeed = speedValue
            end
        end)
    else
        if autoSpeedConnection then
            autoSpeedConnection:Disconnect()
            autoSpeedConnection = nil
        end
    end
end)

local Misc2 = miscTab:AddFolder("  Misc 2")

Misc2:AddButton("Infinite Yield", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))()
end)

Misc2:AddButton("GhostX Hub", function()
    loadstring(game:HttpGet("https://scriptblox.com/raw/Universal-Script-GhostX-Hub-7158"))()
end)

Misc2:AddButton("Permanent Shiftlock", function()
	loadstring(game:HttpGet("https://pastebin.com/raw/CjNsnSDy"))()
end)

Misc2:AddButton("All Emotes", function()
	loadstring(game:HttpGet("https://raw.githubusercontent.com/7yd7/Hub/refs/heads/Branch/GUIS/Emotes.lua"))()
end)

local misc3Folder = miscTab:AddFolder("  Misc 3")

local noclipEnabled = false
local noclipConnection = nil
local originalCanCollide = {}

local infiniteJumpEnabled = false
local infiniteJumpConnection = nil

local function toggleNoclip(enabled)
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    
    if enabled then
        noclipConnection = game:GetService("RunService").Stepped:Connect(function()
            if character and character:FindFirstChild("HumanoidRootPart") then
                for _, part in pairs(character:GetChildren()) do
                    if part:IsA("BasePart") then
                        if originalCanCollide[part] == nil then
                            originalCanCollide[part] = part.CanCollide
                        end
                        part.CanCollide = false
                    end
                end
            end
        end)
        
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "No-Clip";
            Text = "No-Clip activado! Puedes atravesar objetos.";
            Duration = 3;
        })
        
        print("No-Clip activado")
    else
        if noclipConnection then
            noclipConnection:Disconnect()
            noclipConnection = nil
        end
        
        if character then
            for _, part in pairs(character:GetChildren()) do
                if part:IsA("BasePart") and originalCanCollide[part] ~= nil then
                    part.CanCollide = originalCanCollide[part]
                end
            end
        end
        
        originalCanCollide = {}
        
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "No-Clip";
            Text = "No-Clip desactivado! Colisiones restauradas.";
            Duration = 3;
        })
        
        print("No-Clip desactivado")
    end
end

local function toggleInfiniteJump(enabled)
    local player = game.Players.LocalPlayer
    
    if enabled then
        infiniteJumpConnection = game:GetService("UserInputService").JumpRequest:Connect(function()
            local character = player.Character
            if character and character:FindFirstChild("Humanoid") then
                character.Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
            end
        end)
        
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Infinite Jump";
            Text = "Infinite Jump activado! Salta infinitamente.";
            Duration = 3;
        })
        
        print("Infinite Jump activado")
    else
        if infiniteJumpConnection then
            infiniteJumpConnection:Disconnect()
            infiniteJumpConnection = nil
        end
        
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Infinite Jump";
            Text = "Infinite Jump desactivado! Salto normal restaurado.";
            Duration = 3;
        })
        
        print("Infinite Jump desactivado")
    end
end

local function setupCharacterConnections()
    local player = game.Players.LocalPlayer
    
    player.CharacterAdded:Connect(function(character)
        wait(1)
        
        if noclipEnabled then
            toggleNoclip(false)
            wait(0.1)
            toggleNoclip(true)
        end
        
        if infiniteJumpEnabled then
            toggleInfiniteJump(false)
            wait(0.1)
            toggleInfiniteJump(true)
        end
    end)
end

setupCharacterConnections()

local noclipSwitch = misc3Folder:AddSwitch("No-Clip", function(enabled)
    noclipEnabled = enabled
    toggleNoclip(enabled)
end)

local infiniteJumpSwitch = misc3Folder:AddSwitch("Infinite Jump", function(enabled)
    infiniteJumpEnabled = enabled
    toggleInfiniteJump(enabled)
end)

local timeDropdown =
    misc3Folder:AddDropdown(
    "Change Time",
    function(selection)
        local lighting = game:GetService("Lighting")

        if selection == "Night" then
            lighting.ClockTime = 0
        elseif selection == "Day" then
            lighting.ClockTime = 12
        elseif selection == "Midnight" then
            lighting.ClockTime = 6
        end
    end
)

timeDropdown:Add("Night")
timeDropdown:Add("Day")
timeDropdown:Add("Midnight")

local misc4Folder = miscTab:AddFolder("  Misc 4")

misc4Folder:AddButton("Rejoin Server", function()
    local TeleportService = game:GetService("TeleportService")
    
    local success, result = pcall(function()
        TeleportService:TeleportToPlaceInstance(game.PlaceId, nil, player)
    end)
    
    if not success then
        TeleportService:Teleport(game.PlaceId, player)
    end
    
    print("Cambiando a otro servidor...")
end)

local misc5Folder = miscTab:AddFolder("  Misc 5")

misc5Folder:AddButton("Remove Portals", function()
    for _, portal in pairs(game:GetDescendants()) do
        if portal.Name == "RobloxForwardPortals" then
            portal:Destroy()
        end
    end
    
    if _G.AdRemovalConnection then
        _G.AdRemovalConnection:Disconnect()
    end
    
    _G.AdRemovalConnection = game.DescendantAdded:Connect(function(descendant)
        if descendant.Name == "RobloxForwardPortals" then
            descendant:Destroy()
        end
    end)
    
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Anuncios Eliminados",
        Text = "Los anuncios de Roblox han sido eliminados",
        Duration = 0
    })
end)

misc5Folder:AddSwitch("Auto Spin Wheel", function(bool)
    _G.AutoSpinWheel = bool
    
    if bool then
        spawn(function()
            while _G.AutoSpinWheel and wait(1) do
                game:GetService("ReplicatedStorage").rEvents.openFortuneWheelRemote:InvokeServer("openFortuneWheel", game:GetService("ReplicatedStorage").fortuneWheelChances["Fortune Wheel"])
            end
        end)
    end
end)

local parts = {}
local partSize = 2048
local totalDistance = 50000
local startPosition = Vector3.new(-2, -9.5, -2)
local numberOfParts = math.ceil(totalDistance / partSize)

local function createParts()
    for x = 0, numberOfParts - 1 do
        for z = 0, numberOfParts - 1 do
            local newPartSide = Instance.new("Part")
            newPartSide.Size = Vector3.new(partSize, 1, partSize)
            newPartSide.Position = startPosition + Vector3.new(x * partSize, 0, z * partSize)
            newPartSide.Anchored = true
            newPartSide.Transparency = 1
            newPartSide.CanCollide = true
            newPartSide.Name = "Part_Side_" .. x .. "_" .. z
            newPartSide.Parent = workspace
            table.insert(parts, newPartSide)
            
            local newPartLeftRight = Instance.new("Part")
            newPartLeftRight.Size = Vector3.new(partSize, 1, partSize)
            newPartLeftRight.Position = startPosition + Vector3.new(-x * partSize, 0, z * partSize)
            newPartLeftRight.Anchored = true
            newPartLeftRight.Transparency = 1
            newPartLeftRight.CanCollide = true
            newPartLeftRight.Name = "Part_LeftRight_" .. x .. "_" .. z
            newPartLeftRight.Parent = workspace
            table.insert(parts, newPartLeftRight)
            
            local newPartUpLeft = Instance.new("Part")
            newPartUpLeft.Size = Vector3.new(partSize, 1, partSize)
            newPartUpLeft.Position = startPosition + Vector3.new(-x * partSize, 0, -z * partSize)
            newPartUpLeft.Anchored = true
            newPartUpLeft.Transparency = 1
            newPartUpLeft.CanCollide = true
            newPartUpLeft.Name = "Part_UpLeft_" .. x .. "_" .. z
            newPartUpLeft.Parent = workspace
            table.insert(parts, newPartUpLeft)
            
            local newPartUpRight = Instance.new("Part")
            newPartUpRight.Size = Vector3.new(partSize, 1, partSize)
            newPartUpRight.Position = startPosition + Vector3.new(x * partSize, 0, -z * partSize)
            newPartUpRight.Anchored = true
            newPartUpRight.Transparency = 1
            newPartUpRight.CanCollide = true
            newPartUpRight.Name = "Part_UpRight_" .. x .. "_" .. z
            newPartUpRight.Parent = workspace
            table.insert(parts, newPartUpRight)
        end
    end
end

local function makePartsWalkthrough()
    for _, part in ipairs(parts) do
        if part and part.Parent then
            part.CanCollide = false
        end
    end
end

local function makePartsSolid()
    for _, part in ipairs(parts) do
        if part and part.Parent then
            part.CanCollide = true
        end
    end
end

misc5Folder:AddSwitch("Full Walk on Water", function(bool)
    if bool then
        createParts()
    else
        makePartsWalkthrough()
    end
end)

local pets = window:AddTab("Pets")

local pets = window:AddTab(       "Crystals")
local ReplicatedStorage = game:GetService("ReplicatedStorage")

local crystalData = {
    ["Blue Crystal"] = {
        {name = "Blue Birdie", rarity = "Basic"},
        {name = "Orange Hedgehog", rarity = "Basic"},
        {name = "Blue Aura", rarity = "Basic"},
        {name = "Red Kitty", rarity = "Basic"},
        {name = "Dark Vampy", rarity = "Advanced"},
        {name = "Blue Bunny", rarity = "Basic"},
        {name = "Red Aura", rarity = "Basic"},
        {name = "Blue Aura", rarity = "Basic"},
        {name = "Green Aura", rarity = "Basic"},
        {name = "Purple Aura", rarity = "Basic"},
        {name = "Red Aura", rarity = "Basic"},
        {name = "Yellow Aura", rarity = "Basic"}
    },
    ["Green Crystal"] = {
        {name = "Silver Dog", rarity = "Basic"},
        {name = "Green Aura", rarity = "Advanced"},
        {name = "Dark Golem", rarity = "Advanced"},
        {name = "Green Butterfly", rarity = "Advanced"},
        {name = "Crimson Falcon", rarity = "Rare"},
        {name = "Red Aura", rarity = "Basic"},
        {name = "Blue Aura", rarity = "Basic"},
        {name = "Green Aura", rarity = "Basic"},
        {name = "Purple Aura", rarity = "Basic"},
        {name = "Red Aura", rarity = "Basic"},
        {name = "Yellow Aura", rarity = "Basic"}
    },
    ["Frost Crystal"] = {
        {name = "Yellow Butterfly", rarity = "Advanced"},
        {name = "Purple Dragon", rarity = "Rare"},
        {name = "Blue Pheonix", rarity = "Epic"},
        {name = "Orange Pegasus", rarity = "Rare"},
        {name = "Lightning", rarity = "Rare"},
        {name = "Electro", rarity = "Advanced"}
    },
    ["Mythical Crystal"] = {
        {name = "Purple Falcon", rarity = "Rare"},
        {name = "Red Dragon", rarity = "Rare"},
        {name = "Blue Firecaster", rarity = "Epic"},
        {name = "Golden Pheonix", rarity = "Epic"},
        {name = "Power Lightning", rarity = "Rare"},
        {name = "Dark Lightning", rarity = "Epic"}
    },
    ["Inferno Crystal"] = {
        {name = "Red Firecaster", rarity = "Epic"},
        {name = "Infernal Dragon", rarity = "Unique"},
        {name = "White Pegasus", rarity = "Rare"},
        {name = "Golden Pheonix", rarity = "Epic"},
        {name = "Inferno", rarity = "Epic"},
        {name = "Dark Storm", rarity = "Unique"}
    },
    ["Legends Crystal"] = {
        {name = "Ultra Birdie", rarity = "Unique"},
        {name = "Magic Butterfly", rarity = "Unique"},
        {name = "Green Firecaster", rarity = "Epic"},
        {name = "White Pheonix", rarity = "Epic"},
        {name = "Supernova", rarity = "Epic"},
        {name = "Purple Nova", rarity = "Unique"}
    },
    ["Muscle Elite Crystal"] = {
        {name = "Frostwave Legends Penguin", rarity = "Rare"},
        {name = "Phantom Genesis Dragon", rarity = "Rare"},
        {name = "Dark Legends Manticore", rarity = "Epic"},
        {name = "Ultimate Supernova Pegasus", rarity = "Epic"},
        {name = "Aether Spirit Bunny", rarity = "Unique"},
        {name = "Cybernetic Showdown Dragon", rarity = "Unique"}
    },
    ["Galaxy Oracle Crystal"] = {
        {name = "Eternal Strike Leviathan", rarity = "Rare"},
        {name = "Lightning Strike Phantom", rarity = "Epic"},
        {name = "Darkstar Hunter", rarity = "Unique"},
        {name = "Muscle King", rarity = "Unique"},
        {name = "Azure Tundra", rarity = "Epic"},
        {name = "Ultra Inferno", rarity = "Rare"}
    },
    ["Jungle Crystal"] = {
        {name = "Entropic Blast", rarity = "Unique"},
        {name = "Muscle Sensei", rarity = "Unique"},
        {name = "Grand Supernova", rarity = "Epic"},
        {name = "Neon Guardian", rarity = "Unique"},
        {name = "Eternal Megastrike", rarity = "Unique"},
        {name = "Golden Viking", rarity = "Epic"},
        {name = "Astral Electro", rarity = "Epic"},
        {name = "Dark Electro", rarity = "Epic"},
        {name = "Enchanted Mirage", rarity = "Epic"},
        {name = "Ultra Mirage", rarity = "Unique"},
        {name = "Unstable Mirage", rarity = "Unique"}
    }
}

local function getAllPetsAndAuras()
    local allPets = {}
    local allAuras = {}
    
    for crystalName, pets in pairs(crystalData) do
        for _, pet in ipairs(pets) do
            if string.find(pet.name, "Aura") then
                if not allAuras[pet.name] then
                    allAuras[pet.name] = {name = pet.name, rarity = pet.rarity, crystal = crystalName}
                end
            else
                if not allPets[pet.name] then
                    allPets[pet.name] = {name = pet.name, rarity = pet.rarity, crystal = crystalName}
                end
            end
        end
    end
    
    return allPets, allAuras
end

local function findCrystalForItem(itemName)
    for crystalName, pets in pairs(crystalData) do
        for _, pet in ipairs(pets) do
            if pet.name == itemName then
                return crystalName
            end
        end
    end
    return nil
end

local selectedPet = ""
local selectedAura = ""

local allPets, allAuras = getAllPetsAndAuras()

pets:AddLabel("=== Buy pets and auras ===")

local petDropdown = pets:AddDropdown("Select pet", function(text)
    selectedPet = text
    local crystal = findCrystalForItem(text)
    print("Pet selected: " .. text .. " (Found in: " .. (crystal or "Unknown") .. ")")
end)

petDropdown:Add("Blue Birdie (Basic)")
petDropdown:Add("Orange Hedgehog (Basic)")
petDropdown:Add("Red Kitty (Basic)")
petDropdown:Add("Blue Bunny (Basic)")
petDropdown:Add("Silver Dog (Basic)")

petDropdown:Add("Dark Vampy (Advanced)")
petDropdown:Add("Dark Golem (Advanced)")
petDropdown:Add("Green Butterfly (Advanced)")
petDropdown:Add("Yellow Butterfly (Advanced)")

petDropdown:Add("Crimson Falcon (Rare)")
petDropdown:Add("Purple Dragon (Rare)")
petDropdown:Add("Orange Pegasus (Rare)")
petDropdown:Add("Purple Falcon (Rare)")
petDropdown:Add("Red Dragon (Rare)")
petDropdown:Add("White Pegasus (Rare)")
petDropdown:Add("Frostwave Legends Penguin (Rare)")
petDropdown:Add("Phantom Genesis Dragon (Rare)")
petDropdown:Add("Eternal Strike Leviathan (Rare)")

petDropdown:Add("Blue Pheonix (Epic)")
petDropdown:Add("Blue Firecaster (Epic)")
petDropdown:Add("Golden Pheonix (Epic)")
petDropdown:Add("Red Firecaster (Epic)")
petDropdown:Add("Green Firecaster (Epic)")
petDropdown:Add("White Pheonix (Epic)")
petDropdown:Add("Dark Legends Manticore (Epic)")
petDropdown:Add("Ultimate Supernova Pegasus (Epic)")
petDropdown:Add("Lightning Strike Phantom (Epic)")
petDropdown:Add("Golden Viking (Epic)")

petDropdown:Add("Infernal Dragon (Unique)")
petDropdown:Add("Ultra Birdie (Unique)")
petDropdown:Add("Magic Butterfly (Unique)")
petDropdown:Add("Aether Spirit Bunny (Unique)")
petDropdown:Add("Cybernetic Showdown Dragon (Unique)")
petDropdown:Add("Darkstar Hunter (Unique)")
petDropdown:Add("Muscle Sensei (Unique)")
petDropdown:Add("Neon Guardian (Unique)")

local auraDropdown = pets:AddDropdown("Select Aura", function(text)
    selectedAura = text
    local crystal = findCrystalForItem(text)
    print("Aura selected: " .. text .. " (Found in: " .. (crystal or "Unknown") .. ")")
end)

auraDropdown:Add("Blue Aura (Basic)")
auraDropdown:Add("Green Aura (Basic)")
auraDropdown:Add("Purple Aura (Basic)")
auraDropdown:Add("Red Aura (Basic)")
auraDropdown:Add("Yellow Aura (Basic)")
auraDropdown:Add("Ultra Inferno  (Rare)")
auraDropdown:Add("Azure Tundra (Epic)")
auraDropdown:Add("Grand Supernova (Epic)")
auraDropdown:Add("Muscle King (Unique)")
auraDropdown:Add("Entropic Blast (Unique)")
auraDropdown:Add("Eternal Megastrike (Unique)")

pets:AddLabel("=== System to buys===")

pets:AddSwitch("Auto Buy Pet", function(bool)
    _G.AutoBuyPet = bool
    
    if bool then
        if selectedPet == "" then
            print("Please select a pet first!")
            return
        end
        
        local petName = selectedPet:match("^(.-)%s*%(")
        if not petName then
            petName = selectedPet
        end
        
        local crystal = findCrystalForItem(petName)
        if not crystal then
            print("Could not find crystal for pet: " .. petName)
            return
        end
        
        print("Auto buy pet started for: " .. petName .. " from " .. crystal)
        spawn(function()
            while _G.AutoBuyPet and selectedPet ~= "" do
                local petToBuy = ReplicatedStorage.cPetShopFolder:FindFirstChild(petName)
                if petToBuy then
                    ReplicatedStorage.cPetShopRemote:InvokeServer(petToBuy)
                    print("Bought pet: " .. petName)
                else
                    print("Pet not found: " .. petName)
                end
                task.wait(0.1)
            end
        end)
    else
        print("Auto buy pet stopped")
    end
end)

pets:AddSwitch("Auto buy Aura", function(bool)
    _G.AutoBuyAura = bool
    
    if bool then
        if selectedAura == "" then
            print("Please select an aura first!")
            return
        end
        
        local auraName = selectedAura:match("^(.-)%s*%(")
        if not auraName then
            auraName = selectedAura
        end
        
        local crystal = findCrystalForItem(auraName)
        if not crystal then
            print("Could not find crystal for aura: " .. auraName)
            return
        end
        
        print("Auto buy aura started for: " .. auraName .. " from " .. crystal)
        spawn(function()
            while _G.AutoBuyAura and selectedAura ~= "" do
                local auraToBuy = ReplicatedStorage.cPetShopFolder:FindFirstChild(auraName)
                if auraToBuy then
                    ReplicatedStorage.cPetShopRemote:InvokeServer(auraToBuy)
                    print("Bought aura: " .. auraName)
                else
                    print("Aura not found: " .. auraName)
                end
                task.wait(0.1)
            end
        end)
    else
        print("Auto buy aura stopped")
    end
end)

pets:Show()

pets:AddLabel("=== buy ultimates ===")

local ultimateOptions = {
    "+1 Daily Spin",
    "+1 Pet Slot",
    "+10 Item Capacity",
    "+5% Rep Speed",
    "Demon Damage",
    "Galaxy Gains",
    "Golden Rebirth",
    "Jungle Swift",
    "Muscle Mind",
    "x2 Chest Rewards",
    "x2 Quest Rewards"
}

local selectedUltimate = ""

local ultimateDropdown = pets:AddDropdown("Select ultimate", function(text)
    selectedUltimate = text
    print("Ultimate selected: " .. text)
end)

for _, ultimate in ipairs(ultimateOptions) do
    ultimateDropdown:Add(ultimate)
end

pets:AddSwitch("Auto Buy Ultimates", function(bool)
    _G.AutoUpgradeUltimate = bool
    
    if bool then
        if selectedUltimate == "" then
            print("Please select an ultimate first!")
            return
        end
        
        print("Auto upgrade ultimate started for: " .. selectedUltimate)
        spawn(function()
            while _G.AutoUpgradeUltimate and selectedUltimate ~= "" do
                game:GetService("ReplicatedStorage").rEvents.ultimatesRemote:InvokeServer(
                    "upgradeUltimate",
                    selectedUltimate
                )
                print("Upgraded ultimate: " .. selectedUltimate)
                task.wait(1)
            end
        end)
    else
        print("Auto comprar ultimates")
    end
end)

local strengthStartValue = 0
local durabilityStartValue = 0
local rebirthsStartValue = 0
local killsStartValue = 0
local brawlsStartValue = 0

local strengthStartTime = 0
local durabilityStartTime = 0
local rebirthsStartTime = 0
local killsStartTime = 0
local brawlsStartTime = 0

local strengthActive = false
local durabilityActive = false
local rebirthsActive = false
local killsActive = false
local brawlsActive = false

local Calculator = window:AddTab("Data")

local strengthFolder = Calculator:AddFolder("Strength")
local durabilityFolder = Calculator:AddFolder("Durability")
local rebirthsFolder = Calculator:AddFolder("Rebirths")
local killsFolder = Calculator:AddFolder("Kills")
local brawlsFolder = Calculator:AddFolder("Brawls")

local function formatFull(num)
    local formatted = tostring(math.floor(num))
    local k
    while true do
        formatted, k = formatted:gsub("^(-?%d+)(%d%d%d)", "%1,%2")
        if k == 0 then break end
    end
    return formatted
end

local function formatNumber(num)
    if num == math.huge then
        return "∞"
    elseif num == 0 then
        return "0"
    elseif num < 0.01 and num > 0 then
        return "~0"
    end

    local abs = math.abs(num)
    local sign = num < 0 and "-" or ""
    local value, suffix

    if abs >= 1e30 then value, suffix = abs / 1e30, "No"
    elseif abs >= 1e27 then value, suffix = abs / 1e27, "Oc"
    elseif abs >= 1e24 then value, suffix = abs / 1e24, "Sp"
    elseif abs >= 1e21 then value, suffix = abs / 1e21, "Sx"
    elseif abs >= 1e18 then value, suffix = abs / 1e18, "Qt"
    elseif abs >= 1e15 then value, suffix = abs / 1e15, "Qd"
    elseif abs >= 1e12 then value, suffix = abs / 1e12, "T"
    elseif abs >= 1e9 then value, suffix = abs / 1e9, "B"
    elseif abs >= 1e6 then value, suffix = abs / 1e6, "M"
    elseif abs >= 1e3 then value, suffix = abs / 1e3, "K"
    else value, suffix = abs, ""
    end

    local cleanValue = tostring(tonumber(string.format("%.2f", value)))
    return sign .. cleanValue .. suffix
end

local function formatDisplay(num)
    return formatNumber(num) .. " 【" .. formatFull(num) .. "】"
end

local function getCurrentStrength()
    local player = game.Players.LocalPlayer
    if player and player:FindFirstChild("leaderstats") and player.leaderstats:FindFirstChild("Strength") then
        return player.leaderstats.Strength.Value
    end
    return 0
end

local function getCurrentDurability()
    local player = game.Players.LocalPlayer
    if player and player:FindFirstChild("Durability") then
        return player.Durability.Value
    end
    return 0
end

local function getCurrentRebirths()
    local player = game.Players.LocalPlayer
    if player and player:FindFirstChild("leaderstats") and player.leaderstats:FindFirstChild("Rebirths") then
        return player.leaderstats.Rebirths.Value
    end
    return 0
end

local function getCurrentKills()
    local player = game.Players.LocalPlayer
    if player and player:FindFirstChild("leaderstats") and player.leaderstats:FindFirstChild("Kills") then
        return player.leaderstats.Kills.Value
    end
    return 0
end

local function getCurrentBrawls()
    local player = game.Players.LocalPlayer
    if player and player:FindFirstChild("leaderstats") and player.leaderstats:FindFirstChild("Brawls") then
        return player.leaderstats.Brawls.Value
    end
    return 0
end

local function createLabels(folder)
    return {
        status = folder:AddLabel("Status: Presiona Start para comenzar"),
        current = folder:AddLabel("Current: 0"),
        gained = folder:AddLabel("Gained: 0"),
        perMinute = folder:AddLabel("Per Minute: 0"),
        perHour = folder:AddLabel("Per Hour: 0"),
        perDay = folder:AddLabel("Per Day: 0")
    }
end

local strengthLabels = createLabels(strengthFolder)
local durabilityLabels = createLabels(durabilityFolder)
local rebirthsLabels = createLabels(rebirthsFolder)
local killsLabels = createLabels(killsFolder)
local brawlsLabels = createLabels(brawlsFolder)

local function updateLabels(active, startTime, startValue, currentValue, labels)
    local currentTime = tick()
    labels.current.Text = "Current: " .. formatDisplay(currentValue)

    if active and startTime > 0 then
        local timeElapsed = currentTime - startTime
        local gained = currentValue - startValue
        labels.gained.Text = "Gained: " .. formatDisplay(gained)

        if timeElapsed >= 60 then
            local perMinute = (gained / timeElapsed) * 60
            local perHour = perMinute * 60
            local perDay = perHour * 24
            labels.status.Text = "Status:  Activo"
            labels.perMinute.Text = "Per Minute: " .. formatDisplay(perMinute)
            labels.perHour.Text = "Per Hour: " .. formatDisplay(perHour)
            labels.perDay.Text = "Per Day: " .. formatDisplay(perDay)
        else
            local remaining = 60 - timeElapsed
            labels.status.Text = "Status:  Calculando... " .. math.ceil(remaining) .. "s"
            labels.perMinute.Text = "Per Minute: Calculando..."
            labels.perHour.Text = "Per Hour: Calculando..."
            labels.perDay.Text = "Per Day: Calculando..."
        end
    else
        labels.gained.Text = "Gained: 0"
        labels.perMinute.Text = "Per Minute: 0"
        labels.perHour.Text = "Per Hour: 0"
        labels.perDay.Text = "Per Day: 0"
    end
end

strengthActive, durabilityActive, rebirthsActive, killsActive, brawlsActive = false, false, false, false, false
strengthStartTime, durabilityStartTime, rebirthsStartTime, killsStartTime, brawlsStartTime = 0, 0, 0, 0, 0
strengthStartValue, durabilityStartValue, rebirthsStartValue, killsStartValue, brawlsStartValue = 0, 0, 0, 0, 0

local function addCalculatorButtons(folder, name, getCurrent, labels, activeVar, startTimeVar, startValueVar)
    folder:AddButton("Start " .. name .. " Calculator", function()
        _G[activeVar] = true
        _G[startTimeVar] = tick()
        _G[startValueVar] = getCurrent()
        labels.status.Text = "Status:  Iniciado - Calculando..."
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Calculator";
            Text = name .. " Calculator iniciado!";
            Duration = 3;
        })
    end)

    folder:AddButton("Stop " .. name .. " Calculator", function()
        _G[activeVar] = false
        _G[startTimeVar] = 0
        _G[startValueVar] = 0
        labels.status.Text = "Status:  Detenido"
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Calculator";
            Text = name .. " Calculator detenido!";
            Duration = 3;
        })
    end)
end

addCalculatorButtons(strengthFolder, "Strength", getCurrentStrength, strengthLabels, "strengthActive", "strengthStartTime", "strengthStartValue")
addCalculatorButtons(durabilityFolder, "Durability", getCurrentDurability, durabilityLabels, "durabilityActive", "durabilityStartTime", "durabilityStartValue")
addCalculatorButtons(rebirthsFolder, "Rebirths", getCurrentRebirths, rebirthsLabels, "rebirthsActive", "rebirthsStartTime", "rebirthsStartValue")
addCalculatorButtons(killsFolder, "Kills", getCurrentKills, killsLabels, "killsActive", "killsStartTime", "killsStartValue")
addCalculatorButtons(brawlsFolder, "Brawls", getCurrentBrawls, brawlsLabels, "brawlsActive", "brawlsStartTime", "brawlsStartValue")

Calculator:AddButton("Reset All Calculators", function()
    strengthActive, durabilityActive, rebirthsActive, killsActive, brawlsActive = false, false, false, false, false
    strengthStartTime, durabilityStartTime, rebirthsStartTime, killsStartTime, brawlsStartTime = 0, 0, 0, 0, 0
    strengthStartValue, durabilityStartValue, rebirthsStartValue, killsStartValue, brawlsStartValue = 0, 0, 0, 0, 0

    for _, v in pairs({strengthLabels, durabilityLabels, rebirthsLabels, killsLabels, brawlsLabels}) do
        v.status.Text = "Status: Presiona Start para comenzar"
        v.gained.Text = "Gained: 0"
        v.perMinute.Text = "Per Minute: 0"
        v.perHour.Text = "Per Hour: 0"
        v.perDay.Text = "Per Day: 0"
    end

    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Calculator";
        Text = "Todos los calculators han sido reiniciados!";
        Duration = 3;
    })
end)

task.spawn(function()
    while true do
        updateLabels(strengthActive, strengthStartTime, strengthStartValue, getCurrentStrength(), strengthLabels)
        updateLabels(durabilityActive, durabilityStartTime, durabilityStartValue, getCurrentDurability(), durabilityLabels)
        updateLabels(rebirthsActive, rebirthsStartTime, rebirthsStartValue, getCurrentRebirths(), rebirthsLabels)
        updateLabels(killsActive, killsStartTime, killsStartValue, getCurrentKills(), killsLabels)
        updateLabels(brawlsActive, brawlsStartTime, brawlsStartValue, getCurrentBrawls(), brawlsLabels)
        task.wait(1)
    end
end)

print("Calculator")

local Gift = window:AddTab("Gift")

Gift:AddLabel("Gifting Protein egg:").TextSize = 22

local proteinEggLabel = Gift:AddLabel("Protein Eggs: 0")
proteinEggLabel.TextSize = 20

local selectedEggPlayer = nil
local eggCount = 0

local eggDropdown = Gift:AddDropdown("Player to Gift Eggs", function(selectedDisplayName)
    for _, plr in ipairs(Players:GetPlayers()) do
        if plr.DisplayName == selectedDisplayName then
            selectedEggPlayer = plr
            break
        end
    end
end)

for _, plr in ipairs(Players:GetPlayers()) do
    if plr ~= Players.LocalPlayer then
        eggDropdown:Add(plr.DisplayName)
    end
end

Players.PlayerAdded:Connect(function(plr)
    if plr ~= Players.LocalPlayer then
        eggDropdown:Add(plr.DisplayName)
    end
end)

Gift:AddTextBox("Amount of Eggs", function(text)
    eggCount = tonumber(text) or 0
end)

Gift:AddButton("Gift Eggs", function()
    if selectedEggPlayer and eggCount > 0 then
        for i = 1, eggCount do
            local egg = Players.LocalPlayer.consumablesFolder:FindFirstChild("Protein Egg")
            if egg then
                ReplicatedStorage.rEvents.giftRemote:InvokeServer("giftRequest", selectedEggPlayer, egg)
                task.wait(0.1)
            end
        end
    end
end)

Gift:AddLabel("Gifting Tropical Shakes:").TextSize = 22

local tropicalShakeLabel = Gift:AddLabel("Tropical Shakes: 0")
tropicalShakeLabel.TextSize = 18

local selectedShakePlayer = nil
local shakeCount = 0

local shakeDropdown = Gift:AddDropdown("Player to Gift Tropical Shakes", function(selectedDisplayName)
    for _, plr in ipairs(Players:GetPlayers()) do
        if plr.DisplayName == selectedDisplayName then
            selectedShakePlayer = plr
            break
        end
    end
end)

for _, plr in ipairs(Players:GetPlayers()) do
    if plr ~= Players.LocalPlayer then
        shakeDropdown:Add(plr.DisplayName)
    end
end

Players.PlayerAdded:Connect(function(plr)
    if plr ~= Players.LocalPlayer then
        shakeDropdown:Add(plr.DisplayName)
    end
end)

Gift:AddTextBox("Tropical Shakes gift", function(text)
    shakeCount = tonumber(text) or 0
end)

Gift:AddButton("Gift Tropical Shakes", function()
    if selectedShakePlayer and shakeCount > 0 then
        for i = 1, shakeCount do
            local shake = Players.LocalPlayer.consumablesFolder:FindFirstChild("Tropical Shake")
            if shake then
                ReplicatedStorage.rEvents.giftRemote:InvokeServer("giftRequest", selectedShakePlayer, shake)
                task.wait(0.1)
            end
        end
    end
end)

local function updateItemCount()
    local proteinEggCount = 0
    local tropicalShakeCount = 0

    local backpack = Players.LocalPlayer:WaitForChild("Backpack")
    if backpack then
        for _, item in ipairs(backpack:GetChildren()) do
            if item.Name == "Protein Egg" then
                proteinEggCount = proteinEggCount + 1
            elseif item.Name == "Tropical Shake" or item.Name == "Piñas" then
                tropicalShakeCount = tropicalShakeCount + 1
            end
        end
    end

    proteinEggLabel.Text = "Protein Eggs: " .. proteinEggCount
    tropicalShakeLabel.Text = "Tropical Shakes: " .. tropicalShakeCount
end

task.spawn(function()
    while true do
        updateItemCount()
        task.wait(0.25)
    end
end)


local autoEatBoostsEnabled = false

local boostsList = {
    "ULTRA Shake",
    "TOUGH Bar",
    "Protein Shake",
    "Energy Shake",
    "Protein Bar",
    "Energy Bar",
    "Tropical Shake"
}

local function eatAllBoosts()
    local player = game.Players.LocalPlayer
    local backpack = player:WaitForChild("Backpack")
    local character = player.Character or player.CharacterAdded:Wait()

    for _, boostName in ipairs(boostsList) do
        local boost = backpack:FindFirstChild(boostName)
        while boost do
            boost.Parent = character
            pcall(function()
                boost:Activate()
            end)
            task.wait(0)
            boost = backpack:FindFirstChild(boostName)
        end
    end
end

task.spawn(function()
    while true do
        if autoEatBoostsEnabled then
            eatAllBoosts()
            task.wait(2)
        else
            task.wait(1)
        end
    end
end)

Gift:AddSwitch("Auto Clear Inventory", function(state)
    autoEatBoostsEnabled = state
end)

local KillerTab = window:AddTab("Killer")

local KillingTab = window:AddTab("Killer")

local function checkCharacter()
    if not game.Players.LocalPlayer.Character then
        repeat task.wait() until game.Players.LocalPlayer.Character
    end
    return game.Players.LocalPlayer.Character
end

local function gettool()
    for _, v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
        if v.Name == "Punch" and game.Players.LocalPlayer.Character:FindFirstChild("Humanoid") then
            game.Players.LocalPlayer.Character.Humanoid:EquipTool(v)
        end
    end
    game.Players.LocalPlayer.muscleEvent:FireServer("punch", "leftHand")
    game.Players.LocalPlayer.muscleEvent:FireServer("punch", "rightHand")
end

local function isPlayerAlive(player)
    return player and player.Character and player.Character:FindFirstChild("HumanoidRootPart") and
           player.Character:FindFirstChild("Humanoid") and player.Character.Humanoid.Health > 0
end

local function killPlayer(target)
    if not isPlayerAlive(target) then return end
    local character = checkCharacter()
    if character and character:FindFirstChild("LeftHand") then
        pcall(function()
            firetouchinterest(target.Character.HumanoidRootPart, character.LeftHand, 0)
            firetouchinterest(target.Character.HumanoidRootPart, character.LeftHand, 1)
            gettool()
        end)
    end
end

KillingTab:AddLabel("Equip pets").TextSize = 22

KillingTab:AddButton("Equip Wild Wizard", function()
    local petsFolder = game.Players.LocalPlayer.petsFolder
    for _, folder in pairs(petsFolder:GetChildren()) do
        if folder:IsA("Folder") then
            for _, pet in pairs(folder:GetChildren()) do
                game:GetService("ReplicatedStorage").rEvents.equipPetEvent:FireServer("unequipPet", pet)
            end
        end
    end
    
    task.wait(0.2)
    
    local petName = "Wild Wizard"
    local petsToEquip = {}
    for _, pet in pairs(game.Players.LocalPlayer.petsFolder.Unique:GetChildren()) do
        if pet.Name == petName then
            table.insert(petsToEquip, pet)
        end
    end
    
    for i = 1, math.min(8, #petsToEquip) do
        game:GetService("ReplicatedStorage").rEvents.equipPetEvent:FireServer("equipPet", petsToEquip[i])
        task.wait(0.1)
    end
end)

KillingTab:AddButton("Equip Mighty Monster", function()
    local petsFolder = game.Players.LocalPlayer.petsFolder
    for _, folder in pairs(petsFolder:GetChildren()) do
        if folder:IsA("Folder") then
            for _, pet in pairs(folder:GetChildren()) do
                game:GetService("ReplicatedStorage").rEvents.equipPetEvent:FireServer("unequipPet", pet)
            end
        end
    end
    
    task.wait(0.2)
    
    local petName = "Mighty Monster"
    local petsToEquip = {}
    for _, pet in pairs(game.Players.LocalPlayer.petsFolder.Unique:GetChildren()) do
        if pet.Name == petName then
            table.insert(petsToEquip, pet)
        end
    end
    
    for i = 1, math.min(8, #petsToEquip) do
        game:GetService("ReplicatedStorage").rEvents.equipPetEvent:FireServer("equipPet", petsToEquip[i])
        task.wait(0.1)
    end
end)

local equipEvent = ReplicatedStorage.rEvents.equipPetEvent
local petsFolder = player:WaitForChild("petsFolder")

local toggleRunning = false

local function unequipAll()
    for _, folder in pairs(petsFolder:GetChildren()) do
        if folder:IsA("Folder") then
            for _, pet in pairs(folder:GetChildren()) do
                equipEvent:FireServer("unequipPet", pet)
            end
        end
    end
end

local function getPetsByName(petName)
    local list = {}
    local unique = petsFolder:FindFirstChild("Unique")
    if not unique then return list end

    for _, pet in pairs(unique:GetChildren()) do
        if pet.Name == petName then
            table.insert(list, pet)
        end
    end
    return list
end

local function equipPets(pets)
    for i = 1, math.min(8, #pets) do
        equipEvent:FireServer("equipPet", pets[i])
    end
end

KillingTab:AddSwitch("Auto Swap Pets (Fast)", false, function(state)
    toggleRunning = state

    if not state then return end

    task.spawn(function()
        local wildPets = getPetsByName("Wild Wizard")
        local mightyPets = getPetsByName("Mighty Monster")

        while toggleRunning do
            -- Equip Wild Wizard
            unequipAll()
            equipPets(wildPets)
            task.wait() -- velocidad máxima real

            if not toggleRunning then break end

            -- Equip Mighty Monster
            unequipAll()
            equipPets(mightyPets)
            task.wait() -- velocidad máxima real
        end
    end)
end)

KillingTab:AddLabel("Remove Animation Punch").TextSize = 22

local switch = KillingTab:AddSwitch("Remove Attack Animations", function(bool)
    if bool then
        local blockedAnimations = {
            ["rbxassetid://3638729053"] = true,
            ["rbxassetid://3638767427"] = true,
        }

        local function setupAnimationBlocking()
            local char = game.Players.LocalPlayer.Character
            if not char or not char:FindFirstChild("Humanoid") then return end

            local humanoid = char:FindFirstChild("Humanoid")

            for _, track in pairs(humanoid:GetPlayingAnimationTracks()) do
                if track.Animation then
                    local animId = track.Animation.AnimationId
                    local animName = track.Name:lower()

                    if blockedAnimations[animId] or animName:match("punch") or animName:match("attack") or animName:match("right") then
                        track:Stop()
                    end
                end
            end

            _G.AnimBlockConnection = humanoid.AnimationPlayed:Connect(function(track)
                if track.Animation then
                    local animId = track.Animation.AnimationId
                    local animName = track.Name:lower()

                    if blockedAnimations[animId] or animName:match("punch") or animName:match("attack") or animName:match("right") then
                        track:Stop()
                    end
                end
            end)
        end

        local function processTool(tool)
            if tool and (tool.Name == "Punch" or tool.Name:match("Attack") or tool.Name:match("Right")) then
                if not tool:GetAttribute("ActivatedOverride") then
                    tool:SetAttribute("ActivatedOverride", true)

                    _G.ToolConnections = _G.ToolConnections or {}
                    _G.ToolConnections[tool] = tool.Activated:Connect(function()
                        task.wait(0.05)
                        local char = game.Players.LocalPlayer.Character
                        if char and char:FindFirstChild("Humanoid") then
                            for _, track in pairs(char.Humanoid:GetPlayingAnimationTracks()) do
                                if track.Animation then
                                    local animId = track.Animation.AnimationId
                                    local animName = track.Name:lower()

                                    if blockedAnimations[animId] or animName:match("punch") or animName:match("attack") or animName:match("right") then
                                        track:Stop()
                                    end
                                end
                            end
                        end
                    end)
                end
            end
        end

        local function overrideToolActivation()
            for _, tool in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
                processTool(tool)
            end

            local char = game.Players.LocalPlayer.Character
            if char then
                for _, tool in pairs(char:GetChildren()) do
                    if tool:IsA("Tool") then
                        processTool(tool)
                    end
                end
            end

            _G.BackpackAddedConnection = game.Players.LocalPlayer.Backpack.ChildAdded:Connect(function(child)
                if child:IsA("Tool") then
                    task.wait(0.1)
                    processTool(child)
                end
            end)

            if char then
                _G.CharacterToolAddedConnection = char.ChildAdded:Connect(function(child)
                    if child:IsA("Tool") then
                        task.wait(0.1)
                        processTool(child)
                    end
                end)
            end
        end

        _G.AnimMonitorConnection = game:GetService("RunService").Heartbeat:Connect(function()
            if tick() % 0.5 < 0.01 then
                local char = game.Players.LocalPlayer.Character
                if char and char:FindFirstChild("Humanoid") then
                    for _, track in pairs(char.Humanoid:GetPlayingAnimationTracks()) do
                        if track.Animation then
                            local animId = track.Animation.AnimationId
                            local animName = track.Name:lower()

                            if blockedAnimations[animId] or animName:match("punch") or animName:match("attack") or animName:match("right") then
                                track:Stop()
                            end
                        end
                    end
                end
            end
        end)

        _G.CharacterAddedConnection = game.Players.LocalPlayer.CharacterAdded:Connect(function(newChar)
            task.wait(1)
            setupAnimationBlocking()
            overrideToolActivation()

            if _G.CharacterToolAddedConnection then
                _G.CharacterToolAddedConnection:Disconnect()
            end

            _G.CharacterToolAddedConnection = newChar.ChildAdded:Connect(function(child)
                if child:IsA("Tool") then
                    task.wait(0.1)
                    processTool(child)
                end
            end)
        end)

        setupAnimationBlocking()
        overrideToolActivation()
    else
        if _G.AnimBlockConnection then
            _G.AnimBlockConnection:Disconnect()
            _G.AnimBlockConnection = nil
        end

        if _G.AnimMonitorConnection then
            _G.AnimMonitorConnection:Disconnect()
            _G.AnimMonitorConnection = nil
        end

        if _G.CharacterAddedConnection then
            _G.CharacterAddedConnection:Disconnect()
            _G.CharacterAddedConnection = nil
        end

        if _G.BackpackAddedConnection then
            _G.BackpackAddedConnection:Disconnect()
            _G.BackpackAddedConnection = nil
        end

        if _G.CharacterToolAddedConnection then
            _G.CharacterToolAddedConnection:Disconnect()
            _G.CharacterToolAddedConnection = nil
        end

        if _G.ToolConnections then
            for tool, connection in pairs(_G.ToolConnections) do
                if connection then
                    connection:Disconnect()
                end
                if tool and tool:GetAttribute("ActivatedOverride") then
                    tool:SetAttribute("ActivatedOverride", nil)
                end
            end
            _G.ToolConnections = nil
        end
    end
end)

switch:Set(false)

KillingTab:AddLabel("Puch Dead").TextSize = 22

local PunchBoostEnabled = false
local PunchBoostTask = nil

local PunchBoostURLs = {
    "https://raw.githubusercontent.com/Sherya-Script-Private/Muerto/refs/heads/main/Punch1",
    "https://raw.githubusercontent.com/Sherya-Script-Private/Muerto/refs/heads/main/puch2",
    "https://raw.githubusercontent.com/Sherya-Script-Private/Muerto/refs/heads/main/punch3",
    "https://raw.githubusercontent.com/Sherya-Script-Private/Muerto/refs/heads/main/punch4",
    "https://raw.githubusercontent.com/Sherya-Script-Private/Muerto/refs/heads/main/punch5",
    "https://raw.githubusercontent.com/Sherya-Script-Private/Muerto/refs/heads/main/punch6"
}

KillingTab:AddSwitch("Punch Whit Egg", function(Value)
    PunchBoostEnabled = Value

    if Value then
        if PunchBoostTask then return end

        PunchBoostTask = task.spawn(function()
            for i, url in ipairs(PunchBoostURLs) do
                if not PunchBoostEnabled then break end

                local ok, err = pcall(function()
                    loadstring(game:HttpGet(url, true))()
                end)

                if not ok then
                    warn("Error cargando Punch Script " .. i .. ":", err)
                end

                task.wait(0.5)
            end

            PunchBoostTask = nil
        end)
    else
        PunchBoostEnabled = false
        PunchBoostTask = nil
    end
end, "Activa scripts especiales de punch boost desde URLs externas")

KillingTab:AddLabel("Auto Kill:").TextSize = 22

_G.whitelistedPlayers = _G.whitelistedPlayers or {}
_G.blacklistedPlayers = _G.blacklistedPlayers or {}

local function isWhitelisted(player)
    for _, name in ipairs(_G.whitelistedPlayers) do
        if name:lower() == player.Name:lower() then
            return true
        end
    end
    return false
end

local function isBlacklisted(player)
    for _, name in ipairs(_G.blacklistedPlayers) do
        if name:lower() == player.Name:lower() then
            return true
        end
    end
    return false
end

local function getPlayerDisplayText(player)
    return player.DisplayName .. " | " .. player.Name
end

local whitelistDropdown = KillingTab:AddDropdown("Add to Whitelist", function(selectedText)
    local playerName = selectedText:match("| (.+)$")
    if playerName then
        playerName = playerName:gsub("^%s*(.-)%s*$", "%1") 
        for _, name in ipairs(_G.whitelistedPlayers) do
            if name:lower() == playerName:lower() then return end
        end
        table.insert(_G.whitelistedPlayers, playerName)
    end
end)

local switch = KillingTab:AddSwitch("Kill Everyone", function(bool)
    _G.killAll = bool
    if bool then
        if not _G.killAllConnection then
            _G.killAllConnection = game:GetService("RunService").Heartbeat:Connect(function()
                if _G.killAll then
                    for _, player in ipairs(game:GetService("Players"):GetPlayers()) do
                        if player ~= game.Players.LocalPlayer and not isWhitelisted(player) then
                            killPlayer(player)
                        end
                    end
                end
            end)
        end
    else
        if _G.killAllConnection then
            _G.killAllConnection:Disconnect()
            _G.killAllConnection = nil
        end
    end
end)
switch:Set(false)

local switch = KillingTab:AddSwitch("Whitelist Friends", function(bool)
    _G.whitelistFriends = bool

    if bool then
        for _, player in pairs(game.Players:GetPlayers()) do
            if player ~= game.Players.LocalPlayer and player:IsFriendsWith(game.Players.LocalPlayer.UserId) then
                local playerName = player.Name
                local alreadyWhitelisted = false
                for _, name in ipairs(_G.whitelistedPlayers) do
                    if name:lower() == playerName:lower() then
                        alreadyWhitelisted = true
                        break
                    end
                end
                if not alreadyWhitelisted then
                    table.insert(_G.whitelistedPlayers, playerName)
                end
            end
        end

        game.Players.PlayerAdded:Connect(function(player)
            if _G.whitelistFriends and player:IsFriendsWith(game.Players.LocalPlayer.UserId) then
                local playerName = player.Name
                local alreadyWhitelisted = false
                for _, name in ipairs(_G.whitelistedPlayers) do
                    if name:lower() == playerName:lower() then
                        alreadyWhitelisted = true
                        break
                    end
                end
                if not alreadyWhitelisted then
                    table.insert(_G.whitelistedPlayers, playerName)
                end
            end
        end)
    end
end)

switch:Set(false)

KillingTab:AddLabel("Player Killer").TextSize = 22

local blacklistDropdown = KillingTab:AddDropdown("Add to Killlist", function(selectedText)
    local playerName = selectedText:match("| (.+)$")
    if playerName then
        playerName = playerName:gsub("^%s*(.-)%s*$", "%1") 
        for _, name in ipairs(_G.blacklistedPlayers) do
            if name:lower() == playerName:lower() then return end
        end
        table.insert(_G.blacklistedPlayers, playerName)
    end
end)

for _, player in ipairs(game:GetService("Players"):GetPlayers()) do
    if player ~= game.Players.LocalPlayer then
        local displayText = getPlayerDisplayText(player)
        whitelistDropdown:Add(displayText)
        blacklistDropdown:Add(displayText)
    end
end

game:GetService("Players").PlayerAdded:Connect(function(player)
    if player ~= game.Players.LocalPlayer then
        local displayText = getPlayerDisplayText(player)
        whitelistDropdown:Add(displayText)
        blacklistDropdown:Add(displayText)
    end
end)


local blacklistKillSwitch = KillingTab:AddSwitch("Kill List", function(bool)
    _G.killBlacklistedOnly = bool
    if bool then
        if not _G.blacklistKillConnection then
            _G.blacklistKillConnection = game:GetService("RunService").Heartbeat:Connect(function()
                if _G.killBlacklistedOnly then
                    for _, player in ipairs(game:GetService("Players"):GetPlayers()) do
                        if player ~= game.Players.LocalPlayer and isBlacklisted(player) then
                            killPlayer(player)
                        end
                    end
                end
            end)
        end
    else
        if _G.blacklistKillConnection then
            _G.blacklistKillConnection:Disconnect()
            _G.blacklistKillConnection = nil
        end
    end
end)

local selectedPlayerToSpectate = nil
local spectating = false
local currentTargetConnection = nil
local camera = workspace.CurrentCamera

local function updateSpectateTarget(player)
    if currentTargetConnection then
        currentTargetConnection:Disconnect()
    end
    
    if player and player.Character then
        local humanoid = player.Character:FindFirstChildOfClass("Humanoid")
        if humanoid then
            camera.CameraSubject = humanoid
            currentTargetConnection = player.CharacterAdded:Connect(function(newChar)
                task.wait(0.2)
                local newHumanoid = newChar:FindFirstChildOfClass("Humanoid")
                if newHumanoid then
                    camera.CameraSubject = newHumanoid
                end
            end)
        end
    end
end

local function updatePlayerList()
    return game.Players:GetPlayers()
end

local specdropdown = KillingTab:AddDropdown("Choose Player", function(text)
    for _, player in ipairs(updatePlayerList()) do
        local optionText = player.DisplayName .. " | " .. player.Name
        if text == optionText then
            selectedPlayerToSpectate = player
            if spectating then
                updateSpectateTarget(player)
            end
            break
        end
    end
end)

local spectateSwitch = KillingTab:AddSwitch("Spectate", function(bool)
    spectating = bool
    if spectating and selectedPlayerToSpectate then
        updateSpectateTarget(selectedPlayerToSpectate)
    else
        if currentTargetConnection then
            currentTargetConnection:Disconnect()
            currentTargetConnection = nil
        end
        local localPlayer = game.Players.LocalPlayer
        if localPlayer.Character then
            local humanoid = localPlayer.Character:FindFirstChildOfClass("Humanoid")
            if humanoid then
                camera.CameraSubject = humanoid
            end
        end
    end
end)

for _, player in ipairs(updatePlayerList()) do
    specdropdown:Add(player.DisplayName .. " | " .. player.Name)
end

game.Players.PlayerAdded:Connect(function(player)
    specdropdown:Add(player.DisplayName .. " | " .. player.Name)
end)

game.Players.PlayerRemoving:Connect(function(player)
    if selectedPlayerToSpectate and selectedPlayerToSpectate == player then
        selectedPlayerToSpectate = nil
        if spectating then
            spectateSwitch:Set(false)
        end
    end
end)

KillingTab:AddLabel("Kill Aura:").TextSize = 22

local ringPart = nil
local ringColor = Color3.fromRGB(50, 163, 255)
local ringTransparency = 0.6
_G.showDeathRing = false
_G.deathRingRange = 20

local function updateRingSize()
    if not ringPart then return end
    local diameter = (_G.deathRingRange or 20) * 2
    ringPart.Size = Vector3.new(0.2, diameter, diameter)
end

KillingTab:AddTextBox("Range 1-140", function(text)
    local range = tonumber(text)
    if range then
        _G.deathRingRange = math.clamp(range, 1, 140)
        updateRingSize()
    end
end)

local function toggleRingVisual()
    if _G.showDeathRing then
        ringPart = Instance.new("Part")
        ringPart.Shape = Enum.PartType.Cylinder
        ringPart.Material = Enum.Material.Neon
        ringPart.Color = ringColor
        ringPart.Transparency = ringTransparency
        ringPart.Anchored = true
        ringPart.CanCollide = false
        ringPart.CastShadow = false
        updateRingSize()
        ringPart.Parent = workspace
    elseif ringPart then
        ringPart:Destroy()
        ringPart = nil
    end
end

local function updateRingPosition()
    if not ringPart then return end
    local character = checkCharacter()
    local rootPart = character and character:FindFirstChild("HumanoidRootPart")
    if rootPart then
        ringPart.CFrame = rootPart.CFrame * CFrame.Angles(0, 0, math.rad(90))
    end
end

local deathRingSwitch = KillingTab:AddSwitch("Death Ring", function(bool)
    _G.deathRingEnabled = bool
    
    if bool then
        if not _G.deathRingConnection then
            _G.deathRingConnection = game:GetService("RunService").Heartbeat:Connect(function()
                updateRingPosition()
                
                local character = checkCharacter()
                local myPosition = character and character:FindFirstChild("HumanoidRootPart") and character.HumanoidRootPart.Position
                if not myPosition then return end

                for _, player in ipairs(game:GetService("Players"):GetPlayers()) do
                    if player ~= game.Players.LocalPlayer and not isWhitelisted(player) and isPlayerAlive(player) then
                        local distance = (myPosition - player.Character.HumanoidRootPart.Position).Magnitude
                        if distance <= (_G.deathRingRange or 20) then
                            killPlayer(player)
                        end
                    end
                end
            end)
        end
    else
        if _G.deathRingConnection then
            _G.deathRingConnection:Disconnect()
            _G.deathRingConnection = nil
        end
    end
end)

local visualRingSwitch = KillingTab:AddSwitch("Show Ring", function(bool)
    _G.showDeathRing = bool
    toggleRingVisual()
end)
deathRingSwitch:Set(false)
visualRingSwitch:Set(false)

local whitelistLabel = KillingTab:AddLabel("Whitelist: None")
whitelistLabel.TextColor3 = Color3.fromRGB(26, 122, 212)
whitelistLabel.TextSize = 17

KillingTab:AddButton("Clear Whitelist", function()
    _G.whitelistedPlayers = {}
end)

local blacklistLabel = KillingTab:AddLabel("Killlist: None")
blacklistLabel.TextColor3 = Color3.fromRGB(191, 58, 25)
blacklistLabel.TextSize = 17

KillingTab:AddButton("Clear Blacklist", function()
    _G.blacklistedPlayers = {}
end)

local function updateWhitelistLabel()
    if #_G.whitelistedPlayers == 0 then
        whitelistLabel.Text = "Whitelist: None"
    else
        whitelistLabel.Text = "Whitelist: " .. table.concat(_G.whitelistedPlayers, ", ")
    end
end

local function updateBlacklistLabel()
    if #_G.blacklistedPlayers == 0 then
        blacklistLabel.Text = "Killlist: None"
    else
        blacklistLabel.Text = "Killlist: " .. table.concat(_G.blacklistedPlayers, ", ")
    end
end

task.spawn(function()
    while true do
        updateWhitelistLabel()
        updateBlacklistLabel()
        task.wait(0.2)
    end
end)

local extraTab = window:AddTab("Extras")

extraTab:AddLabel("Good Mode System").TextSize = 24

local function GetHRP(plr)
    local char = plr.Character or plr.CharacterAdded:Wait()
    return char:WaitForChild("HumanoidRootPart")
end

local followDropdown = extraTab:AddDropdown("Teleport player", function(displayName)
    if not displayName or displayName == "" then return end

    for _, plr in ipairs(Players:GetPlayers()) do
        if plr ~= LocalPlayer and plr.DisplayName == displayName then
            local targetHRP = GetHRP(plr)
            local myHRP = GetHRP(LocalPlayer)

            local pos = targetHRP.Position - (targetHRP.CFrame.LookVector * 3)
            myHRP.CFrame = CFrame.new(pos, targetHRP.Position)
            break
        end
    end
end)

-- Llenar dropdown
local function RefreshPlayers()
    followDropdown:Clear()
    for _, plr in ipairs(Players:GetPlayers()) do
        if plr ~= LocalPlayer then
            followDropdown:Add(plr.DisplayName)
        end
    end
end

RefreshPlayers()
Players.PlayerAdded:Connect(RefreshPlayers)
Players.PlayerRemoving:Connect(RefreshPlayers)

extraTab:AddButton("Do not follow", function()
    following = false
    followTarget = nil
    print("Stopped following")
end)

task.spawn(function()
    while task.wait(0.01) do
        if following and followTarget then
            local target = Players:FindFirstChild(followTarget)
            if target then
                followPlayer(target)
            else
                following = false
                followTarget = nil
            end
        end
    end
end)

LocalPlayer.CharacterAdded:Connect(function()
    task.wait(1)
    if following and followTarget then
        local target = Players:FindFirstChild(followTarget)
        if target then
            followPlayer(target)
        end
    end
end)

local godDamageActive = false

extraTab:AddSwitch("Auto Ground Slam", function(state)
    godDamageActive = state
    if state then
        task.spawn(function()
            while godDamageActive do
                local player = LocalPlayer
                local groundSlam = player.Backpack:FindFirstChild("Ground Slam") or (player.Character and player.Character:FindFirstChild("Ground Slam"))

                if groundSlam then
                    if groundSlam.Parent == player.Backpack then
                        groundSlam.Parent = player.Character
                    end
                    if groundSlam:FindFirstChild("attackTime") then
                        groundSlam.attackTime.Value = 0
                    end
                    player.muscleEvent:FireServer("slam")
                    groundSlam:Activate()
                end

                task.wait(0.1)
            end
        end)
    end
end)

extraTab:AddLabel("")

extraTab:AddButton("Empty", function()
    local char = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
    char:WaitForChild("HumanoidRootPart").CFrame =
        CFrame.new(-241.12, -369.25, -396.96)
end)

local TeleportTab = window:AddTab("Teleport")

TeleportTab:AddLabel("Main:").TextSize = 22

TeleportTab:AddButton(
    "Tiny Island",
    function()
        local char = player.Character or Player.CharacterAdded()
        local hrp = char:WaitForChild("HumanoidRootPart")
        hrp.CFrame = CFrame.new(-37.1, 9.2, 1919)
    end
)

TeleportTab:AddButton(
    "Main Island",
    function()
        local char = player.Character or Player.CharacterAdded()
        local hrp = char:WaitForChild("HumanoidRootPart")
        hrp.CFrame = CFrame.new(16.07, 9.08, 133.8)
    end
)

TeleportTab:AddButton(
    "Beach",
    function()
        local char = player.Character or Player.CharacterAdded()
        local hrp = char:WaitForChild("HumanoidRootPart")
        hrp.CFrame = CFrame.new(-8, 9, -169.2)
    end
)

TeleportTab:AddButton(
    "Lava Brawl",
    function()
        local char = player.Character or Player.CharacterAdded()
        local hrp = char:WaitForChild("HumanoidRootPart")
        hrp.CFrame = CFrame.new(4466.08, 103.55, -8446.83)
    end
)


TeleportTab:AddLabel("Gyms:").TextSize = 22

TeleportTab:AddButton(
    "Muscle King Gym",
    function()
        local char = player.Character or Player.CharacterAdded()
        local hrp = char:WaitForChild("HumanoidRootPart")
        hrp.CFrame = CFrame.new(-8665.4, 17.21, -5792.9)
    end
)

TeleportTab:AddButton(
    "Jungle Gym",
    function()
        local char = player.Character or Player.CharacterAdded()
        local hrp = char:WaitForChild("HumanoidRootPart")
        hrp.CFrame = CFrame.new(-8543, 6.8, 2400)
    end
)

TeleportTab:AddButton(
    "Legends Gym",
    function()
        local char = player.Character or Player.CharacterAdded()
        local hrp = char:WaitForChild("HumanoidRootPart")
        hrp.CFrame = CFrame.new(4516, 991.5, -3856)
    end
)

TeleportTab:AddButton(
    "Infernal Gym",
    function()
        local char = player.Character or Player.CharacterAdded()
        local hrp = char:WaitForChild("HumanoidRootPart")
        hrp.CFrame = CFrame.new(-6759, 7.36, -1284)
    end
)

TeleportTab:AddButton(
    "Mythical Gym",
    function()
        local char = player.Character or Player.CharacterAdded()
        local hrp = char:WaitForChild("HumanoidRootPart")
        hrp.CFrame = CFrame.new(2250, 7.37, 1073.2)
    end
)

TeleportTab:AddButton(
    "Frost Gym",
    function()
        local char = player.Character or Player.CharacterAdded()
        local hrp = char:WaitForChild("HumanoidRootPart")
        hrp.CFrame = CFrame.new(-2623, 7.36, -409)
    end
)
